const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["context-slice-translator-B77vYP3KSeKy.js","router-Dn5OPhTbCteb.js","common-DjNPVRitY8w9.js","context-slice-graphql-C1L-GtdrTaCP.js","context-slice-extensibility-BMlmOiFh-izB.js","context-slice-atlas-Bf9G7RJ-iCH_.js","context-slice-newReportify-kr6Cm4CEQ7Ex.js","context-slice-metrics-BRnPw6Hr0pm3.js","context-slice-manifestFetch-tJcXy7BgsUt2.js","render-common-BVOtDT8cIJE8.js","assets/render-common-MfenwtvW0IKw.css"])))=>i.map(i=>d[i]);
var zn=Object.defineProperty;var Yt=i=>{throw TypeError(i)};var Kn=(i,t,n)=>t in i?zn(i,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[t]=n;var $=(i,t,n)=>Kn(i,typeof t!="symbol"?t+"":t,n),Zt=(i,t,n)=>t.has(i)||Yt("Cannot "+n);var K=(i,t,n)=>(Zt(i,t,"read from private field"),n?n.call(i):t.get(i)),Pe=(i,t,n)=>t.has(i)?Yt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,n);var ye=(i,t,n)=>(Zt(i,t,"access private method"),n);import{C as pt,a as H,bM as Qn,bN as ae,bO as Wn,bP as Xn,bQ as J,F as Jn,W as hr,bR as Yn,bS as Zn,V as ea,M as oe,bT as ta,bU as ra,bV as na,bW as aa,bX as De,bD as ia,bY as sa,a5 as gr,bZ as oa,_ as ne,b_ as ua,b$ as U,c0 as ca,c1 as mr,m as la,G as da,o as fa,c2 as ut,Y as ht,c3 as pa,S as er,Q as ha,r as ga,p as ie,w as ma,c4 as va,c5 as _a,c6 as ya,c7 as gt,l as vr,O as Sa,aW as _r,c8 as Ea,N as ba,B as tr,bF as qe,c9 as mt,I as Fe,ca as rr,cb as wa,cc as Aa,cd as Pa,ce as La,cf as Ra,aQ as Ta,cg as Oa,ch as Ca,ci as Ia,cj as Na,ck as yr,cl as ka,aL as Ma,cm as Da,cn as Sr,co as xa,cp as qa,bw as $e,ae as Fa,cq as $a,cr as Ua,cs as Ba,ct as Ha,cu as ja,cv as Va,cw as Ga,cx as za,cy as Ka,cz as Qa,cA as nr,cB as Wa,cC as Xa,E as rt,D as Ja,cD as Ya,cE as Za,cF as ei}from"../common-DjNPVRitY8w9.js";if(typeof window<"u"){String.prototype.replaceAll||(String.prototype.replaceAll=function(t,n){let s=this;for(;s!==(s=s.replace(t,n)););return s}),String.prototype.at||(String.prototype.at=function(t){return this.slice(t,t+1)}),self.setImmediate||(self.setImmediate=setTimeout,self.clearImmediate=clearTimeout),self.requestIdleCallback||(self.requestIdleCallback=setTimeout,self.cancelIdleCallback=clearTimeout),Object.hasOwn||(Object.hasOwn=Function.prototype.call.bind(Object.prototype.hasOwnProperty)),String.prototype.matchAll||(String.prototype.matchAll=function(t){const n=new RegExp(t,t.flags||"g");let s;const u=[];for(;s=n.exec(this);)u.push(s);return u}),Array.prototype.at||(Array.prototype.at=function(t){return t<0&&(t+=this.length),this[t]});const i=Object.getPrototypeOf(Uint8Array.prototype);i.at||(i.at=function(t){return t<0&&(t+=this.length),this[t]}),Promise.any||(Promise.any=function(t){return new Promise((n,s)=>{let u=0,l;function f(h){l=l||h,--u||s(l)}for(const h of t)Promise.resolve(h,++u).then(n,f)})}),URL.parse||(URL.parse=(t,n)=>{try{return new URL(String(t),n===void 0?void 0:String(n))}catch{return null}}),URL.canParse||(URL.canParse=(t,n)=>URL.parse(t,n)!=null)}const ti=console.error.bind(console),ri=console.warn.bind(console),Er=[/this component is not accepted by Hot Loader/,/Report not sent due to releaseStage/];console.error=(...i)=>{const[t,n]=i;typeof t=="string"&&Er.some(s=>s.test(t))||typeof t=="string"&&/React does not recognize/.test(t)&&n==="testID"||ti(...i)};console.warn=(...i)=>{const[t]=i;typeof t=="string"&&Er.some(n=>n.test(t))||ri(...i)};var pr;if(typeof Node=="function"&&Node.prototype){const i=(pr=Object.getOwnPropertyDescriptor(Node.prototype,"parentNode"))==null?void 0:pr.get,t=Node.prototype.removeChild;Node.prototype.removeChild=function(s){return(i==null?void 0:i.call(s))!==this?s:t.apply(this,Array.from(arguments))};const n=Node.prototype.insertBefore;Node.prototype.insertBefore=function(s,u){return u&&(i==null?void 0:i.call(u))!==this?s:n.apply(this,Array.from(arguments))}}const ar="https://web-sourcemaps.shopify.io/";(async()=>{if(pt().isShopifyStaff)try{if(!(await fetch(ar,{credentials:"include"})).ok)throw new Error("not authenticated with source map service")}catch{console.log("%cShopify Developers","font-size: 16px; font-weight: bold; color: #96bf48;"),console.log(["To debug in production, please authenticate with the source map service",`%cAuth: ${ar}`,"Docs: https://github.com/Shopify/web-sourcemaps/blob/main/README.md"].join(`

`),"font-weight: bold;")}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const l of u)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(u){const l={};return u.integrity&&(l.integrity=u.integrity),u.referrerPolicy&&(l.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?l.credentials="include":u.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(u){if(u.ep)return;u.ep=!0;const l=n(u);fetch(u.href,l)}})();class ni extends Wn{lifecycleEvent(t){if(t.type!==Xn.TimeToLastByte)return super.lifecycleEvent(t)}}const ai=H(({ensure:i,registerCleanup:t})=>new ni(s=>{let u;i(["router"]).then(({router:l})=>{const f=l.subscribe(h=>{h.navigation.state==="loading"&&u!==h.navigation.location.pathname&&(u=h.navigation.location.pathname,s.start({target:u}))});t(()=>{f()})}).catch(l=>{throw l}),s.on("navigation",async l=>{if(l.result!==Qn.Finished)return;const f=Math.max(0,performance.now()-l.timeToComplete);ae("navigation_usable",{start:f,duration:l.timeToUsable}),ae("navigation_complete",{start:f,duration:l.timeToComplete})})}));function ii({routeTimings:i,navigationStartAt:t,matches:n}){return Array.from(i.entries()).map(([s,u])=>{const l=si({routeId:s,timings:u,navigationStartAt:t,matches:n});return Object.keys(l).length>0?l:null}).filter(s=>s!==null)}function si({routeId:i,timings:t,navigationStartAt:n,matches:s}){let u=(s==null?void 0:s.some(l=>l.route.id===i))??!0;return(s==null?void 0:s.length)===0&&(u=!0),Object.fromEntries(Object.entries(t).filter(([l,f])=>oi(l,f,n,u)))}function oi(i,t,n,s){return(t==null?void 0:t.start)===void 0?!1:t.end===void 0||i==="prefetch"||t.start<n&&t.end>=n?s:t.start>=n&&t.end>=n}const ui=[Jn,hr,Yn,Zn,ea];class ci{constructor(t){$(this,"ensure");$(this,"initTime",performance.now());$(this,"observer",null);$(this,"skipPageStableMetricsEmission",!1);$(this,"pageLoadComplete",!1);$(this,"navigationStartAt",0);$(this,"intervalId");$(this,"routerStates",[]);$(this,"isUserInputDetected",!1);$(this,"redirectNavigationStartAt");$(this,"loadingEndAt");$(this,"pageStableAt");$(this,"routerLoadersStartAt");$(this,"routerLoadersEndAt");$(this,"navigationContext",{});$(this,"entryCollection",{});$(this,"isInvestigatePerformanceInstrumentEnabled",!1);$(this,"pageStableDurationListeners",[]);$(this,"pageLoaderDurationListeners",[]);$(this,"routeTimings",new Map);$(this,"visitedRoutes",new Set);$(this,"flagLabelCache",null);$(this,"_isIdle",!1);$(this,"idlePromise",null);$(this,"idlePromiseResolve",null);$(this,"errorState",null);this.ensure=t,this.recordAdminLoadedMetric(),this.reset()}get isIdle(){return this._isIdle}get isFullPageNavigation(){return this.navigationStartAt===0}async waitUntilIdle(){if(!this._isIdle)return this.idlePromise||(this.idlePromise=new Promise(t=>{this.idlePromiseResolve=t})),this.idlePromise}reset(t=0,n){this.navigationStartAt=t,this.checkForInterruptedNavigation(),this.cleanup(),n&&this.routerStates.push(n),this.checkNavigationComplete(),this.resetPerformanceObserver()}addRouteTimings(t,n,s,u){this.routeTimings.has(t)||this.routeTimings.set(t,{});const l=this.routeTimings.get(t);l&&!l[n]&&(l[n]={start:s,end:u})}redirect(t){this.routerStates.push(t),this.redirectNavigationStartAt||(this.redirectNavigationStartAt=performance.now())}setSkipPageStableMetricsEmission(t){this.skipPageStableMetricsEmission=t}setNavigationContext(t){this.navigationContext={...this.navigationContext,...t}}loadingFinished(){this.loadingEndAt||(this.loadingEndAt=performance.now())}addPageStableDurationListener(t){this.pageStableDurationListeners.push(t),t(this.pageStableDuration)}removePageStableDurationListener(t){this.pageStableDurationListeners=this.pageStableDurationListeners.filter(n=>n!==t)}addPageLoaderDurationListener(t){this.pageLoaderDurationListeners.push(t),t(this.pageLoaderDuration)}removePageLoaderDurationListener(t){this.pageLoaderDurationListeners=this.pageLoaderDurationListeners.filter(n=>n!==t)}markPageViewError(t){t<400||(this.errorState={statusCode:t})}setPageViewErrorReported(t){this.errorState&&(this.errorState.errorReported=t)}get pageViewStatusCode(){var t;return((t=this.errorState)==null?void 0:t.statusCode)??200}get pageStableDuration(){if(this.pageStableAt)return this.pageStableAt-this.navigationStartAt}get pageLoaderDuration(){let t;typeof this.prefetchingEndAt<"u"&&typeof this.prefetchingStartAt<"u"&&(t=this.prefetchingEndAt-this.prefetchingStartAt);let n;return typeof this.routerLoadersStartAt<"u"&&typeof this.routerLoadersEndAt<"u"&&(n=this.routerLoadersEndAt-this.routerLoadersStartAt),t??n}setReactLoadersMarkers(t,n){typeof this.routerLoadersStartAt>"u"&&typeof this.routerLoadersEndAt>"u"&&(this.routerLoadersStartAt=t,this.routerLoadersEndAt=n,this.pageLoaderDurationListeners.forEach(s=>s(this.pageLoaderDuration)))}get prefetchingStartAt(){var n;let t=1/0;for(const s of this.routeTimings.values())(n=s.prefetch)!=null&&n.start&&(t=Math.min(t,s.prefetch.start));return t===1/0?void 0:t}get prefetchingEndAt(){var n;let t=0;for(const s of this.routeTimings.values())(n=s.prefetch)!=null&&n.end&&(t=Math.max(t,s.prefetch.end));return t===0?void 0:t}get aggregateLoaderDuration(){let t;if(this.isInvestigatePerformanceInstrumentEnabled)t=Array.from(this.routeTimings.entries()).map(([l,f])=>f);else{const u=this.navigationContext.matches;t=ii({routeTimings:this.routeTimings,navigationStartAt:this.navigationStartAt,matches:u})}if(t.length===0)return;const n=t.flatMap(u=>{var l,f,h,v;return[(l=u.componentAssets)==null?void 0:l.start,(f=u.loaderAssets)==null?void 0:f.start,((h=u.prefetch)==null?void 0:h.start)??((v=u.loader)==null?void 0:v.start)].filter(Boolean)}),s=t.flatMap(u=>{var l,f,h,v;return[(l=u.componentAssets)==null?void 0:l.end,(f=u.loaderAssets)==null?void 0:f.end,((h=u.prefetch)==null?void 0:h.end)??((v=u.loader)==null?void 0:v.end)].filter(Boolean)});if(!(n.length===0||s.length===0))return{start:Math.min(...n,this.routerLoadersStartAt??1/0),end:Math.max(...s)}}get navigationStart(){return J(this.navigationStartAt)}get browserBackgroundedAt(){var t,n;return(n=(t=this.entryCollection.visibilityState)==null?void 0:t.filter(s=>s.name==="hidden")[0])==null?void 0:n.startTime}get firstRedirectRouterState(){return this.routerStates.filter(t=>{var n,s;return(s=(n=t.navigation.location)==null?void 0:n.state)==null?void 0:s._isRedirect})[0]}get delayMetrics(){const n=Math.max(this.initTime,this.navigationStartAt);return performance.now()-n<2500}cleanup(){this.pageLoadComplete=!1,clearInterval(this.intervalId),this.entryCollection={},this.routerStates=[],this.isUserInputDetected=!1,this.redirectNavigationStartAt=void 0,this.loadingEndAt=void 0,this.navigationContext={},this.routerLoadersStartAt=void 0,this.routerLoadersEndAt=void 0,this.pageStableDurationListeners.forEach(t=>t()),this.pageLoaderDurationListeners.forEach(t=>t()),this.errorState=null,this._isIdle=!1,this.idlePromise=null,this.idlePromiseResolve=null}resetPerformanceObserver(){var t;(t=this.observer)==null||t.disconnect(),this.observer=new PerformanceObserver(this.collectPerformanceEntries.bind(this)),this.observer.observe({entryTypes:["first-input","layout-shift","resource","visibility-state"]})}async getFlagLabels(){if(this.flagLabelCache!==null)return this.flagLabelCache;const{flags:t}=await this.ensure(["flags"]),n={};for(const s of ui)n[`flag_${s}_enabled`]=t.get(s);return this.flagLabelCache=n,n}async recordAdminLoadedMetric(){const{metrics:t}=await this.ensure(["metrics"]);t.record(oe.AdminLoaded,1)}createSpansForRouteTimings(){var t,n,s,u,l,f,h,v,E,L;for(const[b,S]of this.routeTimings.entries())(t=S.loader)!=null&&t.end&&((n=S.loader)!=null&&n.start)&&ae(`loader(${b})`,{end:S.loader.end,start:S.loader.start}),(s=S.componentAssets)!=null&&s.end&&((u=S.componentAssets)!=null&&u.start)&&ae(`componentAssets(${b})`,{end:S.componentAssets.end,start:S.componentAssets.start}),(l=S.loaderAssets)!=null&&l.end&&((f=S.loaderAssets)!=null&&f.start)&&ae(`loaderAssets(${b})`,{end:S.loaderAssets.end,start:S.loaderAssets.start}),(h=S.actionAssets)!=null&&h.end&&((v=S.actionAssets)!=null&&v.start)&&ae(`actionAssets(${b})`,{end:S.actionAssets.end,start:S.actionAssets.start}),(E=S.prefetch)!=null&&E.end&&((L=S.prefetch)!=null&&L.start)&&ae(`prefetch(${b})`,{end:S.prefetch.end,start:S.prefetch.start})}checkNavigationComplete(){this.intervalId=setInterval(async()=>{var h,v,E,L,b,S,g,_,w;const{flags:t}=await this.ensure(["flags"]);this.isInvestigatePerformanceInstrumentEnabled=t.get(ta),this.isInvestigatePerformanceInstrumentEnabled&&(this._isIdle=!0),((h=this.entryCollection.firstInput)==null?void 0:h[0])&&(this.isUserInputDetected=!0);const s=(E=(v=this.entryCollection.resource)==null?void 0:v.filter(({initiatorType:T,name:N})=>!["beacon","iframe"].includes(T)&&!N.includes("type=mutation")))==null?void 0:E.at(-1),u=!s||ra(s),l=!na();let f=u&&l&&!!this.loadingEndAt;if(this.isInvestigatePerformanceInstrumentEnabled&&(f=u&&l),f){s&&this.createSpan("resource_complete",s);const T=(L=this.entryCollection.graphqlQueries)==null?void 0:L.at(-1);T&&this.createSpan("graphql_queries_complete",T);const N=(b=this.entryCollection.images)==null?void 0:b.at(-1);N&&this.createSpan("images_complete",N);const q=(S=this.entryCollection.scripts)==null?void 0:S.at(-1);q&&this.createSpan("scripts_complete",q);const F=(g=this.entryCollection.layoutShift)==null?void 0:g.at(0);F&&this.createSpan("first_layout_shift",F);const I=(_=this.entryCollection.layoutShift)==null?void 0:_.at(-1);I&&this.createSpan("layout_shift_complete",I);const B=(w=this.entryCollection.layoutShift)==null?void 0:w.sort((z,re)=>re.value-z.value).at(0);B&&this.createSpan("largest_layout_shift",B);const j=aa([T,N,q],I),Q=De(j)?j.responseEnd:(j==null?void 0:j.paintTime)??0;if(j&&this.createSpan("page_load_complete",j,Q),!Q&&this.delayMetrics)return;const V=this.navigationContext.normalizedPathname??"unknown",ee=!this.visitedRoutes.has(V);ee&&this.visitedRoutes.add(V),this.emitMetrics({isCancelledNavigation:!1,firstFramePaintedAt:J(F==null?void 0:F.paintTime),graphqlQueriesEndAt:J(T==null?void 0:T.responseEnd),imagesEndAt:J(N==null?void 0:N.responseEnd),scriptsEndAt:J(q==null?void 0:q.responseEnd),layoutShiftEndAt:J(I==null?void 0:I.paintTime),pageStableAt:J(Q)},{isFirstExecution:ee,largestLayoutShiftEndAt:J(B==null?void 0:B.startTime)}),this.pageStableAt=Q,this.pageStableDurationListeners.forEach(z=>z(this.pageStableDuration)),this.pageLoadComplete=!0,clearInterval(this.intervalId)}},250)}createSpan(t,n,s){ae(t,{start:this.navigationStartAt,end:s??(De(n)?n.responseEnd:n.paintTime)})}collectPerformanceEntries(t){this.entryCollection.graphqlQueries||(this.entryCollection.graphqlQueries=[]),this.entryCollection.scripts||(this.entryCollection.scripts=[]),this.entryCollection.images||(this.entryCollection.images=[]);for(const n of t.getEntries()){const s=ia(n.entryType);this.entryCollection[s]||(this.entryCollection[s]=[]),!((De(n)?n.responseEnd:n.startTime)<this.navigationStartAt)&&(s==="layoutShift"?this.addLayoutShiftEntry(n):this.entryCollection[s].push(n),De(n)&&(n.initiatorType==="fetch"&&/\/api\/shopify.+type=query|\/queries/.test(n.name)?this.entryCollection.graphqlQueries.push(n):n.initiatorType==="script"?this.entryCollection.scripts.push(n):n.initiatorType==="img"&&this.entryCollection.images.push(n)))}}addLayoutShiftEntry(t){requestAnimationFrame(()=>{requestAnimationFrame(()=>{var s;const n=performance.now();t.paintTime=n,(s=this.entryCollection.layoutShift)==null||s.push(t)})})}checkForInterruptedNavigation(){!this.pageLoadComplete&&this.navigationStartAt&&this.emitMetrics({isCancelledNavigation:!0,navigationCancelledAt:J(performance.now())})}async emitMetrics(t,n={isFirstExecution:!1}){var N,q,F,I,B,j;this.createSpansForRouteTimings();const{browser:s,metrics:u,monorail:l,serverData:f}=await this.ensure(["browser","metrics","monorail","serverData"]);this.loadingEndAt&&ae("loading_complete",{start:this.navigationStartAt,end:this.loadingEndAt});const h=J(this.navigationStartAt),v=this.navigationStartAt===0,E=!!this.firstRedirectRouterState,L=this.pageViewStatusCode,b=v&&document.referrer?document.referrer:void 0,{manifestRouteId:S,normalizedPathname:g,previousNormalizedPathname:_,sliceName:w}=this.navigationContext;if(!t.isCancelledNavigation){const Q=await this.getFlagLabels(),V={isFullPageNavigation:v,isRedirectNavigation:E,slice:w??"unknown",manifestRouteId:S??"unknown",normalizedPathname:g??"unknown",...Q};for(const[z,re]of this.routeTimings.entries())re.loaderAssets&&u.record(oe.PageLoaderAssetsDuration,Math.round(re.loaderAssets.end-re.loaderAssets.start),{...V,manifestRouteId:z}),re.componentAssets&&u.record(oe.PageComponentAssetsDuration,Math.round(re.componentAssets.end-re.componentAssets.start),{...V,manifestRouteId:z});if(typeof this.loadingEndAt<"u"){const z=this.aggregateLoaderDuration;z&&(ae("aggregate_loader_duration",{start:z.start,end:z.end}),u.record(oe.PageAggregateLoaderDuration,Math.round(z.end-z.start),{...V,isFirstExecution:n.isFirstExecution}));let re="none";this.prefetchingEndAt&&(re=this.prefetchingEndAt<=this.navigationStartAt?"full":"partial"),u.record(oe.PageBlockingLoaderDuration,Math.round(this.loadingEndAt-this.navigationStartAt),{...V,isFirstExecution:n.isFirstExecution,prefetched:re}),this._isIdle=!0,(N=this.idlePromiseResolve)==null||N.call(this)}const ee={...V,statusCode:L,errorReported:(q=this.errorState)==null?void 0:q.errorReported};u.record(oe.PageView,1,ee),typeof t.pageStableAt<"u"&&!this.skipPageStableMetricsEmission&&u.record(oe.PageViewStableDuration,t.pageStableAt-h,ee),typeof n.largestLayoutShiftEndAt<"u"&&u.record(oe.PageLargestLayoutShiftDuration,n.largestLayoutShiftEndAt-h,ee)}const T={browserBackgroundedAt:J(this.browserBackgroundedAt),connectionType:oa(),deployStage:f.deployStage,identityUuid:gr(),isFullPageNavigation:v,isMobileWebviewNavigation:sa(s),isRedirectNavigation:E,isStoreAdminPage:!0,isUserInputDetected:this.isUserInputDetected,loadingStartAt:J(this.routerLoadersStartAt),loadingEndAt:J(this.loadingEndAt),isFirstLoaderExecution:n.isFirstExecution,navigationStartAt:h,normalizedPathname:g,pathname:window.location.pathname,prefetchingEndAt:J(this.prefetchingEndAt),prefetchingStartAt:J(this.prefetchingStartAt),previousNormalizedPathname:_,previousPathname:(I=(F=this.routerStates[0])==null?void 0:F.location)==null?void 0:I.pathname,redirectNavigationPathname:(j=(B=this.firstRedirectRouterState)==null?void 0:B.location)==null?void 0:j.pathname,redirectNavigationStartAt:J(this.redirectNavigationStartAt),referrer:b,sliceName:w,statusCode:L,...t};this.skipPageStableMetricsEmission||l.produce({schemaId:"admin_navigation_performance/2.5",payload:T}),this.routeTimings.clear()}}const li=H(({ensure:i})=>{const t=new ci(i);let n;return i(["router"]).then(({router:s})=>{s.subscribe(u=>{var l,f;if(u.navigation.state==="loading"&&u.location.pathname!==u.navigation.location.pathname)(l=u.navigation.location.state)!=null&&l._isRedirect?t.redirect(u):t.reset(performance.now(),u),n=(f=s.getRouteInfo())==null?void 0:f.pathPattern;else if(u.navigation.state==="idle"){const{pathPattern:h,manifestRouteId:v,sliceName:E}=s.getRouteInfo();t.setNavigationContext({manifestRouteId:v,normalizedPathname:h,previousNormalizedPathname:n,sliceName:E,matches:u.matches}),t.loadingFinished(),t.setSkipPageStableMetricsEmission(u.matches.some(({route:L})=>["online-store:parent","apps:old_app_parent"].includes(L.id)))}})}).catch(s=>{throw s}),t}),di=H(({ensure:i})=>{const t=U([]);let n=0;const s=new Map,u=[];let l;i(["i18n","locale"]).then(async h=>{const{getTranslatorFromContext:v}=await ne(async()=>{const{getTranslatorFromContext:E}=await import("../context-slice-translator-B77vYP3KSeKy.js");return{getTranslatorFromContext:E}},__vite__mapDeps([0,1,2]));l=v(h)}).catch(h=>{throw h});const f={get list(){return t.value},show(h){l&&ir(h,l)&&t.value.filter(v=>ir(v,l)).length||typeof h.id<"u"&&t.value.find(v=>v.id===h.id)||(h.id=h.id??String(++n),t.value=t.value.concat(h))},hide(h){h?t.value=t.value.filter(v=>h.id!==v.id):t.value=[]},setActionOptions(h,v){s.set(h,v)},clearActionOptions(h){s.delete(h)}};return i(["router"]).then(({router:h})=>{h.subscribe(({navigation:v,actionData:E})=>{v.state==="submitting"?u.length=0:Object.keys(E??{}).forEach(L=>{const b=E==null?void 0:E[L];if(b!=null&&b.notification&&!u.find(S=>ua(b.notification,S))){const S={content:b.notification.content,error:b.notification.error,tone:b.notification.defaultTone},g=b.notification.key;let _=S;g&&s.has(g)&&(_={...S,...s.get(g)}),f.show(_),u.push(b.notification)}})})}).catch(h=>{throw h}),f});function ir({error:i,content:t},n){return i&&(t===n.translate("Common.serverError")||t===n.translate("Common.maskedDataMutationError"))}function fi({fetch:i,middleware:t}){return new pi(i,t)}class pi{constructor(t,n){$(this,"middleware");$(this,"fetch");this.middleware=n,typeof t=="function"?this.fetch=t:this.fetch=ca(t)}query(t,{variables:n}={}){return(async()=>{try{return await this.run(t,{variables:n})}finally{}})()}async run(t,{variables:n}={}){const s=await this.fetch({document:t,variables:n??{}},this.middleware);if(s instanceof mr)throw s;const{data:u,error:l}=s;return u?{data:u}:{error:l}}}const hi=ht(403),gi=ht(401),mi=ht(404);function vi(i,t,n){if(!(n&&i instanceof Error&&n(i))&&i instanceof mr){const s=la(i.response,i.responseText);if(s instanceof da){const u=fa(s);return t(u,s.reason),s}}}const _i=i=>{if(i instanceof ut){const t=i==null?void 0:i.response.status,n=i==null?void 0:i.responseText;return t===mi||t===hi&&n!=="CSRF"||t===gi&&n.includes("[TFA]")}return!1};function yi(i,t){if(i instanceof Error&&!(i instanceof ut)||!i.context)return;const{request:n,stats:s}=i.context;let u;i instanceof ut?u=i.response:u=i.context.response;const l=!(i instanceof Error)&&typeof i.data=="object",f=l?i.extensions:void 0,h=i!=null&&!(i instanceof Error)&&i.error&&i.error instanceof pa?i.error.errors.map(({message:S,path:g,extensions:_})=>({message:S,path:g&&Array.isArray(g)?g.join(","):void 0,extensions:_})):void 0,v=u instanceof Response&&u.headers.get(er.RequestId)||void 0,E=u instanceof Response&&u.headers.get(er.Profile)||void 0,L=u instanceof Response?u.status:void 0,b=u instanceof Response?u.url:void 0;t({graphQLClientType:"GraphQL-Lite",name:n.operationName??"Unknown",url:b,status:L,success:l,errorResponse:i!=null&&i instanceof Error&&i,errors:h,requestId:v,duration:s.duration,start:s.start,end:s.end,resultLength:l?JSON.stringify(i).length:void 0,extensions:f,request:{query:n.document,variables:n.variables},profileUrl:E})}const Si=H(({serverData:i,unified:t,errorLogger:n,performance:s})=>{const u=i.isUnifiedApp,l=ha({name:"core",apiEndpointPath:u?`/api/shopify/${t.storeHandle}`:"/admin/internal/web/graphql/core",host:location.hostname,csrfToken:i.csrfToken,getRedirectUrl(v){var E;if(u){const L=new URLSearchParams,b=(E=i==null?void 0:i.identityUser)==null?void 0:E.email;return b&&L.append("login_hint",b),L.append("returnPath",location.pathname),L.append("errorHint","client_api_error"),`/login?${L.toString()}`}return typeof v=="string"?v:v(encodeURIComponent(location.href))},errorLogger:n,performance:s}),f=ga({csrfToken:i.csrfToken,buildVersion:i.buildVersion});return fi({fetch:{uri:`https://${l.host}${l.apiEndpointPath}`,headers:f},middleware:{response:v=>{yi(v,l.onOperation),vi(v,l.onRedirect,_i)}}})}),Ei=H(()=>{const i=U(0),t=U(0),n=U(0),s=U(null),u=ie(()=>i.value>0),l=ie(()=>{const v=i.value+n.value,E=v-i.value;return v&&E/v});let f;function h(){clearTimeout(f),i.value=0,n.value=0,t.value=0,s.value=null}return{get loading(){return u.value},get polarisLoadingStack(){return t.value},get progress(){return l.value},get loadInitiated(){return s.value},incrementPolarisLoadingStack(){t.value++},decrementPolarisLoadingStack(){t.value--},setLoadInitiated(v){s.value=v},start(){clearTimeout(f),i.value++,s.value=Date.now()},stop(){const v=i.value-1;v<0||(n.value++,i.value=v,v===0&&(f=setTimeout(h,100)))},reset:h}}),bi=H(()=>{const i=U([]);return{get globallyDismissedHomeItemHandles(){return i.value},dismissHomeItemGlobally(t){i.value.includes(t)||(i.value=[...i.value,t])},undoDismissHomeItemGlobally(t){i.value=i.value.filter(n=>n!==t)}}}),wi=H(()=>{const i=U([]),t=U(!1);function n(s,u){const l={...s};for(const f in u)u[f]&&(l[f]=u[f]);return l}return{add(s){const u=i.value.slice(),l=u.findIndex(f=>f.id===s.id);l>=0?u[l]={...u[l],...s}:u.push(s),i.value=u},update(s,u){i.value=i.value.map(l=>(l.id===s&&(l.status=n(l.status,u)),l))},remove(s){i.value=i.value.filter(u=>!s(u))},removeById(s){i.value=i.value.filter(u=>u.id!==s)},get items(){return i.value},expand(){t.value=!1},collapse(){t.value=!0},get isCollapsed(){return t.value}}}),Ai=()=>{const i=U(!1),t=U(!1),n=U([]);return{get activeSidebar(){return n.value[n.value.length-1]},get isExpanded(){return this.activeSidebar!==void 0&&!i.value},get isHidden(){return i.value},get isResizing(){return t.value},open(s){n.value=[...n.value.filter(u=>u!==s),s]},close(s){const u=n.value.filter(l=>l!==s);u.length!==n.value.length&&(n.value=u)},show(){i.value=!1},hide(){i.value=!0},toggleResizing(s){typeof s>"u"?t.value=!t.value:t.value=s}}},Pi=H(Ai);var nt={exports:{}},sr;function Li(){return sr||(sr=1,function(i,t){(function(n){i.exports=n()})(function(){var n=["navigation","request","process","log","user","state","error","manual"],s=function(e,r,o){for(var a=o,c=0,d=e.length;c<d;c++)a=r(a,e[c],c,e);return a},u=function(e,r){return s(e,function(o,a,c,d){return r(a,c,d)?o.concat(a):o},[])},l=function(e,r){return s(e,function(o,a,c,d){return o===!0||a===r},!1)},f=function(e){return Object.prototype.toString.call(e)==="[object Array]"},h=!{toString:null}.propertyIsEnumerable("toString"),v=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],E=function(e){var r=[],o;for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.push(o);if(!h)return r;for(var a=0,c=v.length;a<c;a++)Object.prototype.hasOwnProperty.call(e,v[a])&&r.push(v[a]);return r},L=function(e,r){return e===void 0&&(e=1),function(o){return typeof o=="number"&&parseInt(""+o,10)===o&&o>=e&&o<=r}},b=function(e){return typeof e=="function"||f(e)&&u(e,function(r){return typeof r=="function"}).length===e.length},S=function(e){return typeof e=="string"&&!!e.length},g={},_=function(){return{unhandledExceptions:!0,unhandledRejections:!0}};g.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:S},appVersion:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||S(e)}},appType:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||S(e)}},autoDetectErrors:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}},enabledErrorTypes:{defaultValue:function(){return _()},message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:function(e){if(typeof e!="object"||!e)return!1;var r=E(e),o=E(_());return!(u(r,function(a){return l(o,a)}).length<r.length||u(E(e),function(a){return typeof e[a]!="boolean"}).length>0)}},onError:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:b},onSession:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:b},onBreadcrumb:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:b},endpoints:{defaultValue:function(){return{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}},message:"should be an object containing endpoint URLs { notify, sessions }",validate:function(e){return e&&typeof e=="object"&&S(e.notify)&&S(e.sessions)&&u(E(e),function(r){return!l(["notify","sessions"],r)}).length===0}},autoTrackSessions:{defaultValue:function(e){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}},enabledReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(e){return e===null||f(e)&&u(e,function(r){return typeof r=="string"}).length===e.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(e){return typeof e=="string"&&e.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:"should be a number ≤100",validate:function(e){return L(0,100)(e)}},enabledBreadcrumbTypes:{defaultValue:function(){return n},message:"should be null or a list of available breadcrumb types ("+n.join(",")+")",validate:function(e){return e===null||f(e)&&s(e,function(r,o){return r===!1?r:l(n,o)},!0)}},context:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||typeof e=="string"}},user:{defaultValue:function(){return{}},message:"should be an object with { id, email, name } properties",validate:function(e){return e===null||e&&s(E(e),function(r,o){return r&&l(["id","email","name"],o)},!0)}},metadata:{defaultValue:function(){return{}},message:"should be an object",validate:function(e){return typeof e=="object"&&e!==null}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(e){return!e||e&&s(["debug","info","warn","error"],function(r,o){return r&&typeof e[o]=="function"},!0)}},redactedKeys:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(e){return f(e)&&e.length===u(e,function(r){return typeof r=="string"||r&&typeof r.test=="function"}).length}},plugins:{defaultValue:function(){return[]},message:"should be an array of plugin objects",validate:function(e){return f(e)&&e.length===u(e,function(r){return r&&typeof r=="object"&&typeof r.load=="function"}).length}},featureFlags:{defaultValue:function(){return[]},message:'should be an array of objects that have a "name" property',validate:function(e){return f(e)&&e.length===u(e,function(r){return r&&typeof r=="object"&&typeof r.name=="string"}).length}}};var w=function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e},T=function(e,r){return s(e,function(o,a,c,d){return o.concat(r(a,c,d))},[])};function N(){return N=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e},N.apply(this,arguments)}var q=g.schema,F={releaseStage:w({},q.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"}}),appType:N({},q.appType,{defaultValue:function(){return"browser"}}),logger:w({},q.logger,{defaultValue:function(){return typeof console<"u"&&typeof console.debug=="function"?I():void 0}})},I=function(){var e={},r=console.log;return T(["debug","info","warn","error"],function(o){var a=console[o];e[o]=typeof a=="function"?a.bind(console,"[bugsnag]"):r.bind(console,"[bugsnag]")}),e},B=function(){function e(o,a,c,d){d===void 0&&(d=new Date),this.type=c,this.message=o,this.metadata=a,this.timestamp=d}var r=e.prototype;return r.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},e}(),j=B,Q={};(function(e,r){typeof Q=="object"?Q=r():e.StackFrame=r()})(this,function(){function e(A){return!isNaN(parseFloat(A))&&isFinite(A)}function r(A){return A.charAt(0).toUpperCase()+A.substring(1)}function o(A){return function(){return this[A]}}var a=["isConstructor","isEval","isNative","isToplevel"],c=["columnNumber","lineNumber"],d=["fileName","functionName","source"],p=["args"],y=a.concat(c,d,p);function m(A){if(A instanceof Object)for(var k=0;k<y.length;k++)A.hasOwnProperty(y[k])&&A[y[k]]!==void 0&&this["set"+r(y[k])](A[y[k]])}m.prototype={getArgs:function(){return this.args},setArgs:function(A){if(Object.prototype.toString.call(A)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=A},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(A){if(A instanceof m)this.evalOrigin=A;else if(A instanceof Object)this.evalOrigin=new m(A);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var A=this.getFunctionName()||"{anonymous}",k="("+(this.getArgs()||[]).join(",")+")",x=this.getFileName()?"@"+this.getFileName():"",G=e(this.getLineNumber())?":"+this.getLineNumber():"",C=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return A+k+x+G+C}};for(var R=0;R<a.length;R++)m.prototype["get"+r(a[R])]=o(a[R]),m.prototype["set"+r(a[R])]=function(A){return function(k){this[A]=!!k}}(a[R]);for(var P=0;P<c.length;P++)m.prototype["get"+r(c[P])]=o(c[P]),m.prototype["set"+r(c[P])]=function(A){return function(k){if(!e(k))throw new TypeError(A+" must be a Number");this[A]=Number(k)}}(c[P]);for(var O=0;O<d.length;O++)m.prototype["get"+r(d[O])]=o(d[O]),m.prototype["set"+r(d[O])]=function(A){return function(k){this[A]=String(k)}}(d[O]);return m});var V={};(function(e,r){typeof V=="object"?V=r(Q):e.ErrorStackParser=r(e.StackFrame)})(this,function(r){var o=/(^|@)\S+\:\d+/,a=/^\s*at .*(\S+\:\d+|\(native\))/m,c=/^(eval@)?(\[native code\])?$/;return{parse:function(p){if(typeof p.stacktrace<"u"||typeof p["opera#sourceloc"]<"u")return this.parseOpera(p);if(p.stack&&p.stack.match(a))return this.parseV8OrIE(p);if(p.stack)return this.parseFFOrSafari(p);throw new Error("Cannot parse given Error object")},extractLocation:function(p){if(p.indexOf(":")===-1)return[p];var y=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,m=y.exec(p.replace(/[\(\)]/g,""));return[m[1],m[2]||void 0,m[3]||void 0]},parseV8OrIE:function(p){var y=p.stack.split(`
`).filter(function(m){return!!m.match(a)},this);return y.map(function(m){m.indexOf("(eval ")>-1&&(m=m.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var R=m.replace(/^\s+/,"").replace(/\(eval code/g,"("),P=R.match(/ (\((.+):(\d+):(\d+)\)$)/);R=P?R.replace(P[0],""):R;var O=R.split(/\s+/).slice(1),A=this.extractLocation(P?P[1]:O.pop()),k=O.join(" ")||void 0,x=["eval","<anonymous>"].indexOf(A[0])>-1?void 0:A[0];return new r({functionName:k,fileName:x,lineNumber:A[1],columnNumber:A[2],source:m})},this)},parseFFOrSafari:function(p){var y=p.stack.split(`
`).filter(function(m){return!m.match(c)},this);return y.map(function(m){if(m.indexOf(" > eval")>-1&&(m=m.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),m.indexOf("@")===-1&&m.indexOf(":")===-1)return new r({functionName:m});var R=/((.*".+"[^@]*)?[^@]*)(?:@)/,P=m.match(R),O=P&&P[1]?P[1]:void 0,A=this.extractLocation(m.replace(R,""));return new r({functionName:O,fileName:A[0],lineNumber:A[1],columnNumber:A[2],source:m})},this)},parseOpera:function(p){return!p.stacktrace||p.message.indexOf(`
`)>-1&&p.message.split(`
`).length>p.stacktrace.split(`
`).length?this.parseOpera9(p):p.stack?this.parseOpera11(p):this.parseOpera10(p)},parseOpera9:function(p){for(var y=/Line (\d+).*script (?:in )?(\S+)/i,m=p.message.split(`
`),R=[],P=2,O=m.length;P<O;P+=2){var A=y.exec(m[P]);A&&R.push(new r({fileName:A[2],lineNumber:A[1],source:m[P]}))}return R},parseOpera10:function(p){for(var y=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,m=p.stacktrace.split(`
`),R=[],P=0,O=m.length;P<O;P+=2){var A=y.exec(m[P]);A&&R.push(new r({functionName:A[3]||void 0,fileName:A[2],lineNumber:A[1],source:m[P]}))}return R},parseOpera11:function(p){var y=p.stack.split(`
`).filter(function(m){return!!m.match(o)&&!m.match(/^Error created at/)},this);return y.map(function(m){var R=m.split("@"),P=this.extractLocation(R.pop()),O=R.shift()||"",A=O.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0,k;O.match(/\(([^\)]*)\)/)&&(k=O.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var x=k===void 0||k==="[arguments not available]"?void 0:k.split(",");return new r({functionName:A,args:x,fileName:P[0],lineNumber:P[1],columnNumber:P[2],source:m})},this)}}});var ee=V,z=function(e,r,o,a){var c=a&&a.redactedKeys?a.redactedKeys:[],d=a&&a.redactedPaths?a.redactedPaths:[];return JSON.stringify(Br(e,c,d),r,o)},re=20,kr=25e3,Mr=8,Oe="...";function Dr(e){return e instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(e))}function vt(e){return"[Throws: "+(e?e.message:"?")+"]"}function xr(e,r){for(var o=0,a=e.length;o<a;o++)if(e[o]===r)return!0;return!1}function qr(e,r){for(var o=0,a=e.length;o<a;o++)if(r.indexOf(e[o])===0)return!0;return!1}function Fr(e,r){for(var o=0,a=e.length;o<a;o++)if(typeof e[o]=="string"&&e[o].toLowerCase()===r.toLowerCase()||e[o]&&typeof e[o].test=="function"&&e[o].test(r))return!0;return!1}function $r(e){return Object.prototype.toString.call(e)==="[object Array]"}function Ur(e,r){try{return e[r]}catch(o){return vt(o)}}function Br(e,r,o){var a=[],c=0;function d(p,y){function m(){return y.length>Mr&&c>kr}if(c++,y.length>re||m())return Oe;if(p===null||typeof p!="object")return p;if(xr(a,p))return"[Circular]";if(a.push(p),typeof p.toJSON=="function")try{c--;var R=d(p.toJSON(),y);return a.pop(),R}catch(D){return vt(D)}var P=Dr(p);if(P){c--;var O=d({name:p.name,message:p.message},y);return a.pop(),O}if($r(p)){for(var A=[],k=0,x=p.length;k<x;k++){if(m()){A.push(Oe);break}A.push(d(p[k],y.concat("[]")))}return a.pop(),A}var G={};try{for(var C in p)if(Object.prototype.hasOwnProperty.call(p,C)){if(qr(o,y.join("."))&&Fr(r,C)){G[C]="[REDACTED]";continue}if(m()){G[C]=Oe;break}G[C]=d(Ur(p,C),y.concat(C))}}catch{}return a.pop(),G}return d(e,[])}function _t(e,r,o,a){if(typeof o=="string"){a===void 0?a=null:a!==null&&typeof a!="string"&&(a=z(a));var c=r[o];if(typeof c=="number"){e[c]={name:o,variant:a};return}e.push({name:o,variant:a}),r[o]=e.length-1}}function Hr(e,r,o){if(f(r)){for(var a=0;a<r.length;++a){var c=r[a];c===null||typeof c!="object"||_t(e,o,c.name,c.variant)}return e}}function jr(e){return T(u(e,Boolean),function(r){var o=r.name,a=r.variant,c={featureFlag:o};return typeof a=="string"&&(c.variant=a),c})}function Vr(e,r,o){var a=r[o];typeof a=="number"&&(e[a]=null,delete r[o])}var he={add:_t,clear:Vr,merge:Hr,toEventApi:jr},Ce=function(e){return!!e&&(!!e.stack||!!e.stacktrace||!!e["opera#sourceloc"])&&typeof(e.stack||e.stacktrace||e["opera#sourceloc"])=="string"&&e.stack!==e.name+": "+e.message},Gr=zr;function zr(e){switch(Object.prototype.toString.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return e instanceof Error}}var Ie=Gr,Kr=function(e,r,o,a){var c;if(r){var d;if(o===null)return yt(e,r);typeof o=="object"&&(d=o),typeof o=="string"&&(d=(c={},c[o]=a,c)),d&&(r==="__proto__"||r==="constructor"||r==="prototype"||(e[r]||(e[r]={}),e[r]=w({},e[r],d)))}},Qr=function(e,r,o){if(typeof r=="string"){if(!o)return e[r];if(e[r])return e[r][o]}},yt=function(e,r,o){if(typeof r=="string"){if(!o){delete e[r];return}r==="__proto__"||r==="constructor"||r==="prototype"||e[r]&&delete e[r][o]}},me={add:Kr,get:Qr,clear:yt},Be={};(function(e,r){typeof Be=="object"?Be=r(Q):e.StackGenerator=r(e.StackFrame)})(this,function(e){return{backtrace:function(o){var a=[],c=10;typeof o=="object"&&typeof o.maxStackSize=="number"&&(c=o.maxStackSize);for(var d=arguments.callee;d&&a.length<c&&d.arguments;){for(var p=new Array(d.arguments.length),y=0;y<p.length;++y)p[y]=d.arguments[y];/function(?:\s+([\w$]+))+\s*\(/.test(d.toString())?a.push(new e({functionName:RegExp.$1||void 0,args:p})):a.push(new e({args:p}));try{d=d.caller}catch{break}}return a}}});function He(){return He=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e},He.apply(this,arguments)}var de=function(){function e(o,a,c,d,p){c===void 0&&(c=[]),d===void 0&&(d=Jr()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=p,this._handledState=d,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features=[],this._featuresIndex={},this._user={},this._session=void 0,this._correlation=void 0,this.errors=[Et(o,a,e.__type,c)]}var r=e.prototype;return r.addMetadata=function(a,c,d){return me.add(this._metadata,a,c,d)},r.setTraceCorrelation=function(a,c){typeof a=="string"&&(this._correlation=He({traceId:a},typeof c=="string"?{spanId:c}:{}))},r.getMetadata=function(a,c){return me.get(this._metadata,a,c)},r.clearMetadata=function(a,c){return me.clear(this._metadata,a,c)},r.addFeatureFlag=function(a,c){c===void 0&&(c=null),he.add(this._features,this._featuresIndex,a,c)},r.addFeatureFlags=function(a){he.merge(this._features,a,this._featuresIndex)},r.getFeatureFlags=function(){return he.toEventApi(this._features)},r.clearFeatureFlag=function(a){he.clear(this._features,this._featuresIndex,a)},r.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},r.getUser=function(){return this._user},r.setUser=function(a,c,d){this._user={id:a,email:c,name:d}},r.toJSON=function(){return{payloadVersion:"4",exceptions:T(this.errors,function(a){return w({},a,{message:a.errorMessage})}),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session,featureFlags:this.getFeatureFlags(),correlation:this._correlation}},e}(),Wr=function(e){var r={file:e.fileName,method:Xr(e.functionName),lineNumber:e.lineNumber,columnNumber:e.columnNumber,code:void 0,inProject:void 0};return r.lineNumber>-1&&!r.file&&!r.method&&(r.file="global code"),r},Xr=function(e){return/^global code$/i.test(e)?"global code":e},Jr=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},St=function(e){return typeof e=="string"?e:""};function Et(e,r,o,a){return{errorClass:St(e),errorMessage:St(r),type:o,stacktrace:s(a,function(c,d){var p=Wr(d);try{return JSON.stringify(p)==="{}"?c:c.concat(p)}catch{return c}},[])}}function bt(e){return e.cause?[e].concat(bt(e.cause)):[e]}de.getStacktrace=function(e,r,o){if(Ce(e))return ee.parse(e).slice(r);try{return u(Be.backtrace(),function(a){return(a.functionName||"").indexOf("StackGenerator$$")===-1}).slice(1+o)}catch{return[]}},de.create=function(e,r,o,a,c,d){c===void 0&&(c=0);var p=At(e,r,a,d),y=p[0],m=p[1],R;try{var P=de.getStacktrace(y,m>0?1+m+c:0,1+c);R=new de(y.name,y.message,P,o,e)}catch{R=new de(y.name,y.message,[],o,e)}if(y.name==="InvalidError"&&R.addMetadata(""+a,"non-error parameter",wt(e)),y.cause){var O,A=bt(y).slice(1),k=T(A,function(x){var G=Ie(x)&&Ce(x)?ee.parse(x):[],C=At(x,!0,"error cause"),D=C[0];return D.name==="InvalidError"&&R.addMetadata("error cause",wt(x)),Et(D.name,D.message,de.__type,G)});(O=R.errors).push.apply(O,k)}return R};var wt=function(e){return e===null?"null":e===void 0?"undefined":e},At=function(e,r,o,a){var c,d=0,p=function(y){var m=o==="error cause"?"was":"received";a&&a.warn(o+" "+m+' a non-error: "'+y+'"');var R=new Error(o+" "+m+' a non-error. See "'+o+'" tab for more detail.');return R.name="InvalidError",R};if(!r)Ie(e)?c=e:(c=p(typeof e),d+=2);else switch(typeof e){case"string":case"number":case"boolean":c=new Error(String(e)),d+=1;break;case"function":c=p("function"),d+=2;break;case"object":e!==null&&Ie(e)?c=e:e!==null&&Yr(e)?(c=new Error(e.message||e.errorMessage),c.name=e.name||e.errorClass,d+=1):(c=p(e===null?"null":"unsupported object"),d+=2);break;default:c=p("nothing"),d+=2}if(!Ce(c))try{throw c}catch(y){Ce(y)&&(c=y,d=1)}return[c,d]};de.__type="browserjs";var Yr=function(e){return(typeof e.name=="string"||typeof e.errorClass=="string")&&(typeof e.message=="string"||typeof e.errorMessage=="string")},je=de,Zr=function(e,r,o){var a=0,c=function(){if(a>=e.length)return o(null,!0);r(e[a],function(d,p){if(d)return o(d);if(p===!1)return o(null,!1);a++,c()})};c()},en=function(e,r,o,a){var c=function(d,p){if(typeof d!="function")return p(null);try{if(d.length!==2){var y=d(r);return y&&typeof y.then=="function"?y.then(function(m){return setTimeout(function(){return p(null,m)})},function(m){setTimeout(function(){return o(m),p(null,!0)})}):p(null,y)}d(r,function(m,R){if(m)return o(m),p(null);p(null,R)})}catch(m){o(m),p(null)}};Zr(e,c,a)},Pt=function(e,r,o,a){for(var c=!1,d=e.slice();!c&&d.length;)try{c=d.pop()(r)===!1}catch(p){a.error("Error occurred in "+o+" callback, continuing anyway…"),a.error(p)}return c},Ve=function(r,o){var a="000000000"+r;return a.substr(a.length-o)},Lt=typeof window=="object"?window:self,Rt=0;for(var tn in Lt)Object.hasOwnProperty.call(Lt,tn)&&Rt++;var rn=navigator.mimeTypes?navigator.mimeTypes.length:0,nn=Ve((rn+navigator.userAgent.length).toString(36)+Rt.toString(36),4),Tt=function(){return nn},be=0,Ge=4,Ne=36,Ot=Math.pow(Ne,Ge);function Ct(){return Ve((Math.random()*Ot<<0).toString(Ne),Ge)}function an(){return be=be<Ot?be:0,be++,be-1}function It(){var e="c",r=new Date().getTime().toString(Ne),o=Ve(an().toString(Ne),Ge),a=Tt(),c=Ct()+Ct();return e+r+o+a+c}It.fingerprint=Tt;var sn=It,on=function(){function e(){this.id=sn(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var r=e.prototype;return r.getUser=function(){return this._user},r.setUser=function(a,c,d){this._user={id:a,email:c,name:d}},r.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},r._track=function(a){this[a._handledState.unhandled?"_unhandled":"_handled"]+=1},e}(),ze=on,un=he.add,cn=he.clear,Ke=he.merge,fe=function(){},ln=function(){function e(o,a,c,d){var p=this;a===void 0&&(a=g.schema),c===void 0&&(c=[]),this._notifier=d,this._config={},this._schema=a,this._delivery={sendSession:fe,sendEvent:fe},this._logger={debug:fe,info:fe,warn:fe,error:fe},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._featuresIndex={},this._features=[],this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=e,this.Event=je,this.Breadcrumb=j,this.Session=ze,this._config=this._configure(o,c),T(c.concat(this._config.plugins),function(R){R&&p._loadPlugin(R)}),this._depth=1;var y=this,m=this.notify;this.notify=function(){return m.apply(y,arguments)}}var r=e.prototype;return r.addMetadata=function(a,c,d){return me.add(this._metadata,a,c,d)},r.getMetadata=function(a,c){return me.get(this._metadata,a,c)},r.clearMetadata=function(a,c){return me.clear(this._metadata,a,c)},r.addFeatureFlag=function(a,c){c===void 0&&(c=null),un(this._features,this._featuresIndex,a,c)},r.addFeatureFlags=function(a){Ke(this._features,a,this._featuresIndex)},r.clearFeatureFlag=function(a){cn(this._features,this._featuresIndex,a)},r.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},r.getContext=function(){return this._context},r.setContext=function(a){this._context=a},r._configure=function(a,c){var d=s(c,function(R,P){return P&&P.configSchema?w({},R,P.configSchema):R},this._schema),p=s(E(d),function(R,P){var O=d[P].defaultValue(a[P]);if(a[P]!==void 0){var A=d[P].validate(a[P]);A?d[P].allowPartialObject?R.config[P]=w(O,a[P]):R.config[P]=a[P]:(R.errors[P]=d[P].message,R.config[P]=O)}else R.config[P]=O;return R},{errors:{},config:{}}),y=p.errors,m=p.config;if(d.apiKey){if(!m.apiKey)throw new Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(m.apiKey)||(y.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=w({},m.metadata),Ke(this._features,m.featureFlags,this._featuresIndex),this._user=w({},m.user),this._context=m.context,m.logger&&(this._logger=m.logger),m.onError&&(this._cbs.e=this._cbs.e.concat(m.onError)),m.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(m.onBreadcrumb)),m.onSession&&(this._cbs.s=this._cbs.s.concat(m.onSession)),E(y).length&&this._logger.warn(dn(y,a)),m},r.getUser=function(){return this._user},r.setUser=function(a,c,d){this._user={id:a,email:c,name:d}},r._loadPlugin=function(a){var c=a.load(this);return a.name&&(this._plugins["~"+a.name+"~"]=c),this},r.getPlugin=function(a){return this._plugins["~"+a+"~"]},r._setDelivery=function(a){this._delivery=a(this)},r.startSession=function(){var a=new ze;a.app.releaseStage=this._config.releaseStage,a.app.version=this._config.appVersion,a.app.type=this._config.appType,a._user=w({},this._user);var c=Pt(this._cbs.s,a,"onSession",this._logger);return c?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,a)},r.addOnError=function(a,c){c===void 0&&(c=!1),this._cbs.e[c?"unshift":"push"](a)},r.removeOnError=function(a){this._cbs.e=u(this._cbs.e,function(c){return c!==a})},r._addOnSessionPayload=function(a){this._cbs.sp.push(a)},r.addOnSession=function(a){this._cbs.s.push(a)},r.removeOnSession=function(a){this._cbs.s=u(this._cbs.s,function(c){return c!==a})},r.addOnBreadcrumb=function(a,c){c===void 0&&(c=!1),this._cbs.b[c?"unshift":"push"](a)},r.removeOnBreadcrumb=function(a){this._cbs.b=u(this._cbs.b,function(c){return c!==a})},r.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},r.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},r.leaveBreadcrumb=function(a,c,d){if(a=typeof a=="string"?a:"",d=typeof d=="string"&&l(n,d)?d:"manual",c=typeof c=="object"&&c!==null?c:{},!!a){var p=new j(a,c,d),y=Pt(this._cbs.b,p,"onBreadcrumb",this._logger);if(y){this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback");return}this._breadcrumbs.push(p),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs))}},r._isBreadcrumbTypeEnabled=function(a){var c=this._config.enabledBreadcrumbTypes;return c===null||l(c,a)},r.notify=function(a,c,d){d===void 0&&(d=fe);var p=je.create(a,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(p,c,d)},r._notify=function(a,c,d){var p=this;if(d===void 0&&(d=fe),a.app=w({},a.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),a.context=a.context||this._context,a._metadata=w({},a._metadata,this._metadata),a._user=w({},a._user,this._user),a.breadcrumbs=this._breadcrumbs.slice(),Ke(a._features,this._features,a._featuresIndex),this._config.enabledReleaseStages!==null&&!l(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),d(null,a);var y=a.severity,m=function(P){p._logger.error("Error occurred in onError callback, continuing anyway…"),p._logger.error(P)},R=[].concat(this._cbs.e).concat(c);en(R,a,m,function(P,O){if(P&&m(P),!O)return p._logger.debug("Event not sent due to onError callback"),d(null,a);p._isBreadcrumbTypeEnabled("error")&&e.prototype.leaveBreadcrumb.call(p,a.errors[0].errorClass,{errorClass:a.errors[0].errorClass,errorMessage:a.errors[0].errorMessage,severity:a.severity},"error"),y!==a.severity&&(a._handledState.severityReason={type:"userCallbackSetSeverity"}),a.unhandled!==a._handledState.unhandled&&(a._handledState.severityReason.unhandledOverridden=!0,a._handledState.unhandled=a.unhandled),p._session&&(p._session._track(a),a._session=p._session),p._delivery.sendEvent({apiKey:a.apiKey||p._config.apiKey,notifier:p._notifier,events:[a]},function(A){return d(A,a)})})},e}(),dn=function(e,r){var o=new Error(`Invalid configuration
`+T(E(e),function(a){return"  - "+a+" "+e[a]+", got "+fn(r[a])}).join(`

`));return o},fn=function(e){switch(typeof e){case"string":case"number":case"object":return JSON.stringify(e);default:return String(e)}},Qe=ln,ve={},Nt=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];ve.event=function(e,r){var o=z(e,null,null,{redactedPaths:Nt,redactedKeys:r});return o.length>1e6&&(e.events[0]._metadata={notifier:`WARNING!
Serialized payload was `+o.length/1e6+`MB (limit = 1MB)
metadata was removed`},o=z(e,null,null,{redactedPaths:Nt,redactedKeys:r})),o},ve.session=function(e,r){var o=z(e,null,null);return o};var We={};We=function(e,r){return r===void 0&&(r=window),{sendEvent:function(o,a){a===void 0&&(a=function(){});var c=kt(e._config,"notify","4",r),d=ve.event(o,e._config.redactedKeys),p=new r.XDomainRequest;p.onload=function(){a(null)},p.onerror=function(){var y=new Error("Event failed to send");e._logger.error("Event failed to send…",y),d.length>1e6&&e._logger.warn("Event oversized ("+(d.length/1e6).toFixed(2)+" MB)"),a(y)},p.open("POST",c),setTimeout(function(){try{p.send(d)}catch(y){e._logger.error(y),a(y)}},0)},sendSession:function(o,a){a===void 0&&(a=function(){});var c=kt(e._config,"sessions","1",r),d=new r.XDomainRequest;d.onload=function(){a(null)},d.open("POST",c),setTimeout(function(){try{d.send(ve.session(o,e._config.redactedKeys))}catch(p){e._logger.error(p),a(p)}},0)}}};var kt=function(e,r,o,a){var c=JSON.parse(JSON.stringify(new Date)),d=pn(e.endpoints[r],a.location.protocol);return d+"?apiKey="+encodeURIComponent(e.apiKey)+"&payloadVersion="+o+"&sentAt="+encodeURIComponent(c)},pn=We._matchPageProtocol=function(e,r){return r==="http:"?e.replace(/^https:/,"http:"):e},hn=function(e,r){return r===void 0&&(r=window),{sendEvent:function(o,a){a===void 0&&(a=function(){});try{var c=e._config.endpoints.notify,d=new r.XMLHttpRequest,p=ve.event(o,e._config.redactedKeys);d.onreadystatechange=function(){if(d.readyState===r.XMLHttpRequest.DONE){var y=d.status;if(y===0||y>=400){var m=new Error("Request failed with status "+y);e._logger.error("Event failed to send…",m),p.length>1e6&&e._logger.warn("Event oversized ("+(p.length/1e6).toFixed(2)+" MB)"),a(m)}else a(null)}},d.open("POST",c),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Bugsnag-Api-Key",o.apiKey||e._config.apiKey),d.setRequestHeader("Bugsnag-Payload-Version","4"),d.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),d.send(p)}catch(y){e._logger.error(y)}},sendSession:function(o,a){a===void 0&&(a=function(){});try{var c=e._config.endpoints.sessions,d=new r.XMLHttpRequest;d.onreadystatechange=function(){if(d.readyState===r.XMLHttpRequest.DONE){var p=d.status;if(p===0||p>=400){var y=new Error("Request failed with status "+p);e._logger.error("Session failed to send…",y),a(y)}else a(null)}},d.open("POST",c),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Bugsnag-Api-Key",e._config.apiKey),d.setRequestHeader("Bugsnag-Payload-Version","1"),d.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),d.send(ve.session(o,e._config.redactedKeys))}catch(p){e._logger.error(p)}}}},Mt=new Date,gn=function(){Mt=new Date},mn={name:"appDuration",load:function(e){return e.addOnError(function(r){var o=new Date;r.app.duration=o-Mt},!0),{reset:gn}}},vn=function(e){return e===void 0&&(e=window),{load:function(r){r.addOnError(function(o){o.context===void 0&&(o.context=e.location.pathname)},!0)}}},Xe=function(r,o){var a="000000000"+r;return a.substr(a.length-o)},Dt=typeof window=="object"?window:self,xt=0;for(var _n in Dt)Object.hasOwnProperty.call(Dt,_n)&&xt++;var yn=navigator.mimeTypes?navigator.mimeTypes.length:0,Sn=Xe((yn+navigator.userAgent.length).toString(36)+xt.toString(36),4),qt=function(){return Sn},we=0,Je=4,ke=36,Ft=Math.pow(ke,Je);function $t(){return Xe((Math.random()*Ft<<0).toString(ke),Je)}function En(){return we=we<Ft?we:0,we++,we-1}function Ut(){var e="c",r=new Date().getTime().toString(ke),o=Xe(En().toString(ke),Je),a=qt(),c=$t()+$t();return e+r+o+a+c}Ut.fingerprint=qt;var bn=Ut,Bt="bugsnag-anonymous-id",wn=function(e){try{var r=e.localStorage,o=r.getItem(Bt);return o&&/^c[a-z0-9]{20,32}$/.test(o)||(o=bn(),r.setItem(Bt,o)),o}catch{}},An=function(e,r){return e===void 0&&(e=navigator),r===void 0&&(r=window),{load:function(o){var a={locale:e.browserLanguage||e.systemLanguage||e.userLanguage||e.language,userAgent:e.userAgent};r&&r.screen&&r.screen.orientation&&r.screen.orientation.type?a.orientation=r.screen.orientation.type:r&&r.document&&(a.orientation=r.document.documentElement.clientWidth>r.document.documentElement.clientHeight?"landscape":"portrait"),o._config.generateAnonymousId&&(a.id=wn(r)),o.addOnSession(function(c){c.device=w({},c.device,a),o._config.collectUserIp||Ht(c)}),o.addOnError(function(c){c.device=w({},c.device,a,{time:new Date}),o._config.collectUserIp||Ht(c)},!0)},configSchema:{generateAnonymousId:{validate:function(o){return o===!0||o===!1},defaultValue:function(){return!0},message:"should be true|false"}}}},Ht=function(e){var r=e.getUser();(!r||!r.id)&&e.setUser(e.device.id)},Pn=function(e){return e===void 0&&(e=window),{load:function(r){r.addOnError(function(o){o.request&&o.request.url||(o.request=w({},o.request,{url:e.location.href}))},!0)}}},Ln={load:function(e){e._sessionDelegate=Rn}},Rn={startSession:function(e,r){var o=e;return o._session=r,o._pausedSession=null,o._config.enabledReleaseStages!==null&&!l(o._config.enabledReleaseStages,o._config.releaseStage)?(o._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),o):(o._delivery.sendSession({notifier:o._notifier,device:r.device,app:r.app,sessions:[{id:r.id,startedAt:r.startedAt,user:r._user}]}),o)},resumeSession:function(e){return e._session?e:e._pausedSession?(e._session=e._pausedSession,e._pausedSession=null,e):e.startSession()},pauseSession:function(e){e._pausedSession=e._session,e._session=null}},Tn={load:function(e){e._config.collectUserIp||e.addOnError(function(r){r._user&&typeof r._user.id>"u"&&delete r._user.id,r._user=w({id:"[REDACTED]"},r._user),r.request=w({clientIp:"[REDACTED]"},r.request)})},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}}}},jt={};jt.load=function(e){var r=/^(local-)?dev(elopment)?$/.test(e._config.releaseStage);r||!e._isBreadcrumbTypeEnabled("log")||T(On,function(o){var a=console[o];console[o]=function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];e.leaveBreadcrumb("Console output",s(d,function(y,m,R){var P="[Unknown value]";try{P=String(m)}catch{}if(P==="[object Object]")try{P=JSON.stringify(m)}catch{}return y["["+R+"]"]=P,y},{severity:o.indexOf("group")===0?"log":o}),"log"),a.apply(console,d)},console[o]._restore=function(){console[o]=a}})};var On=u(["log","debug","info","warn","error"],function(e){return typeof console<"u"&&typeof console[e]=="function"}),Vt=200,Gt=5e5,Cn=function(e,r){return e===void 0&&(e=document),r===void 0&&(r=window),{load:function(o){if(!o._config.trackInlineScripts)return;var a=r.location.href,c="",d=!!e.attachEvent,p=d?e.readyState==="complete":e.readyState!=="loading",y=function(){return e.documentElement.outerHTML};c=y();var m=e.onreadystatechange;e.onreadystatechange=function(){e.readyState==="interactive"&&(c=y(),p=!0);try{m.apply(this,arguments)}catch{}};var R=null,P=function(C){R=C},O=function(){var C=e.currentScript||R;if(!C&&!p){var D=e.scripts||e.getElementsByTagName("script");C=D[D.length-1]}return C},A=function(C){(!p||!c)&&(c=y());var D=["<!-- DOC START -->"].concat(c.split(`
`)),X=C-1,W=Math.max(X-3,0),te=Math.min(X+3,D.length);return s(D.slice(W,te),function(Z,Ae,tt){return Z[W+1+tt]=Ae.length<=Vt?Ae:Ae.substr(0,Vt),Z},{})};o.addOnError(function(C){C.errors[0].stacktrace=u(C.errors[0].stacktrace,function(Z){return!/__trace__$/.test(Z.method)});var D=C.errors[0].stacktrace[0],X=function(Z){return Z.replace(/#.*$/,"").replace(/\?.*$/,"")};if(!(D&&D.file&&X(D.file)!==X(a))){var W=O();if(W){var te=W.innerHTML;C.addMetadata("script","content",te.length<=Gt?te:te.substr(0,Gt)),D&&D.lineNumber&&(D.code=A(D.lineNumber))}}},!0);var k=T(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],function(C){return Ye(r,C,function(D){return G(D,function(X){return{get:function(){return X[0]},replace:function(W){X[0]=W}}})})}),x=k[0];T(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],function(C){!r[C]||!r[C].prototype||!Object.prototype.hasOwnProperty.call(r[C].prototype,"addEventListener")||(Ye(r[C].prototype,"addEventListener",function(D){return G(D,zt)}),Ye(r[C].prototype,"removeEventListener",function(D){return G(D,zt,!0)}))});function G(C,D,X){return X===void 0&&(X=!1),function(){var W=[].slice.call(arguments);try{var te=D(W),Z=te.get();if(X&&C.apply(this,W),typeof Z!="function")return C.apply(this,W);if(Z.__trace__)te.replace(Z.__trace__);else{var Ae=O();Z.__trace__=function(){P(Ae),x(function(){P(null)},0);var Gn=Z.apply(this,arguments);return P(null),Gn},Z.__trace__.__trace__=Z.__trace__,te.replace(Z.__trace__)}}catch{}if(C.apply)return C.apply(this,W);switch(W.length){case 1:return C(W[0]);case 2:return C(W[0],W[1]);default:return C()}}}},configSchema:{trackInlineScripts:{validate:function(o){return o===!0||o===!1},defaultValue:function(){return!0},message:"should be true|false"}}}};function Ye(e,r,o){var a=e[r];if(!a)return a;var c=o(a);return e[r]=c,a}function zt(e){var r=!!e[1]&&typeof e[1].handleEvent=="function";return{get:function(){return r?e[1].handleEvent:e[1]},replace:function(o){r?e[1].handleEvent=o:e[1]=o}}}var In=function(e){return e===void 0&&(e=window),{load:function(r){"addEventListener"in e&&r._isBreadcrumbTypeEnabled("user")&&e.addEventListener("click",function(o){var a,c;try{a=kn(o.target),c=Kt(o.target,e)}catch{a="[hidden]",c="[hidden]",r._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}r.leaveBreadcrumb("UI click",{targetText:a,targetSelector:c},"user")},!0)}}},Nn=/^\s*([^\s][\s\S]{0,139}[^\s])?\s*/;function kn(e){var r=e.textContent||e.innerText||"";return!r&&(e.type==="submit"||e.type==="button")&&(r=e.value),r=r.replace(Nn,"$1"),r.length>140?r.slice(0,135)+"(...)":r}function Kt(e,r){var o=[e.tagName];if(e.id&&o.push("#"+e.id),e.className&&e.className.length&&o.push("."+e.className.split(" ").join(".")),!r.document.querySelectorAll||!Array.prototype.indexOf)return o.join("");try{if(r.document.querySelectorAll(o.join("")).length===1)return o.join("")}catch{return o.join("")}if(e.parentNode.childNodes.length>1){var a=Array.prototype.indexOf.call(e.parentNode.childNodes,e)+1;o.push(":nth-child("+a+")")}return r.document.querySelectorAll(o.join("")).length===1?o.join(""):e.parentNode?Kt(e.parentNode,r)+" > "+o.join(""):o.join("")}var Qt={};Qt=function(e){e===void 0&&(e=window);var r={load:function(o){if("addEventListener"in e&&o._isBreadcrumbTypeEnabled("navigation")){var a=function(c){return function(){return o.leaveBreadcrumb(c,{},"navigation")}};e.addEventListener("pagehide",a("Page hidden"),!0),e.addEventListener("pageshow",a("Page shown"),!0),e.addEventListener("load",a("Page loaded"),!0),e.document.addEventListener("DOMContentLoaded",a("DOMContentLoaded"),!0),e.addEventListener("load",function(){return e.addEventListener("popstate",a("Navigated back"),!0)}),e.addEventListener("hashchange",function(c){var d=c.oldURL?{from:Me(c.oldURL,e),to:Me(c.newURL,e),state:Xt(e)}:{to:Me(e.location.href,e)};o.leaveBreadcrumb("Hash changed",d,"navigation")},!0),e.history.replaceState&&Wt(o,e.history,"replaceState",e),e.history.pushState&&Wt(o,e.history,"pushState",e)}}};return r};var Me=function(e,r){var o=r.document.createElement("A");return o.href=e,""+o.pathname+o.search+o.hash},Mn=function(e,r,o,a){var c=Me(e.location.href,e);return{title:o,state:r,prevState:Xt(e),to:a||c,from:c}},Wt=function(e,r,o,a){var c=r[o];r[o]=function(d,p,y){e.leaveBreadcrumb("History "+o,Mn(a,d,p,y),"navigation"),typeof e.resetEventCount=="function"&&e.resetEventCount(),e._config.autoTrackSessions&&e.startSession(),c.apply(r,[d,p].concat(y!==void 0?y:[]))}},Xt=function(e){try{return e.history.state}catch{}},_e="request",Dn=function(e,r){e===void 0&&(e=[]),r===void 0&&(r=window);var o={load:function(a){if(!a._isBreadcrumbTypeEnabled("request"))return;var c=[a._config.endpoints.notify,a._config.endpoints.sessions].concat(e);d(),m();function d(){if("addEventListener"in r.XMLHttpRequest.prototype){var O=r.XMLHttpRequest.prototype.open;r.XMLHttpRequest.prototype.open=function(k,x){var G=this,C=!1,D=function(){return y(k,x)},X=function(){return p(k,x,G.status)};C&&(this.removeEventListener("load",X),this.removeEventListener("error",D)),this.addEventListener("load",X),this.addEventListener("error",D),C=!0,O.apply(this,arguments)}}}function p(O,A,k){if(A===void 0){a._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}if(!(typeof A=="string"&&l(c,A.replace(/\?.*$/,"")))){var x={status:k,request:O+" "+A};k>=400?a.leaveBreadcrumb("XMLHttpRequest failed",x,_e):a.leaveBreadcrumb("XMLHttpRequest succeeded",x,_e)}}function y(O,A){if(A===void 0){a._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}typeof A=="string"&&l(c,A.replace(/\?.*$/,""))||a.leaveBreadcrumb("XMLHttpRequest error",{request:O+" "+A},_e)}function m(){if(!(!("fetch"in r)||r.fetch.polyfill)){var O=r.fetch;r.fetch=function(){var k=arguments,x=arguments[0],G=arguments[1],C,D=null;return x&&typeof x=="object"?(D=x.url,G&&"method"in G?C=G.method:x&&"method"in x&&(C=x.method)):(D=x,G&&"method"in G&&(C=G.method)),C===void 0&&(C="GET"),new Promise(function(X,W){O.apply(void 0,k).then(function(te){R(te,C,D),X(te)}).catch(function(te){P(C,D),W(te)})})}}}var R=function(O,A,k){var x={status:O.status,request:A+" "+k};O.status>=400?a.leaveBreadcrumb("fetch() failed",x,_e):a.leaveBreadcrumb("fetch() succeeded",x,_e)},P=function(O,A){a.leaveBreadcrumb("fetch() error",{request:O+" "+A},_e)}}};return o},xn={load:function(e){var r=0;e.addOnError(function(o){if(r>=e._config.maxEvents)return e._logger.warn("Cancelling event send due to maxEvents per session limit of "+e._config.maxEvents+" being reached"),!1;r++}),e.resetEventCount=function(){r=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer ≤100",validate:function(e){return L(1,100)(e)}}}},Ze={};Ze={load:function(e){e.addOnError(function(r){var o=s(r.errors,function(a,c){return a.concat(c.stacktrace)},[]);T(o,function(a){a.file=qn(a.file)})})}};var qn=Ze._strip=function(e){return typeof e=="string"?e.replace(/\?.*$/,"").replace(/#.*$/,""):e},Fn=function(e,r){return e===void 0&&(e=window),r===void 0&&(r="window onerror"),{load:function(o){if(!o._config.autoDetectErrors||!o._config.enabledErrorTypes.unhandledExceptions)return;function a(d,p,y,m,R){if(y===0&&/Script error\.?/.test(d))o._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var P={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},O;if(R)O=o.Event.create(R,!0,P,r,1),Jt(O.errors[0].stacktrace,p,y,m);else if(typeof d=="object"&&d!==null&&(!p||typeof p!="string")&&!y&&!m&&!R){var A=d.type?"Event: "+d.type:"Error",k=d.message||d.detail||"";O=o.Event.create({name:A,message:k},!0,P,r,1),O.originalError=d,O.addMetadata(r,{event:d,extraParameters:p})}else O=o.Event.create(d,!0,P,r,1),Jt(O.errors[0].stacktrace,p,y,m);o._notify(O)}typeof c=="function"&&c.apply(this,arguments)}var c=e.onerror;e.onerror=a}}},Jt=function(e,r,o,a){e[0]||e.push({});var c=e[0];!c.file&&typeof r=="string"&&(c.file=r),!c.lineNumber&&et(o)&&(c.lineNumber=o),c.columnNumber||(et(a)?c.columnNumber=a:window.event&&et(window.event.errorCharacter)&&(c.columnNumber=window.event.errorCharacter))},et=function(e){return typeof e=="number"&&String.call(e)!=="NaN"},$n=function(e){e===void 0&&(e=window);var r={load:function(o){if(!(!o._config.autoDetectErrors||!o._config.enabledErrorTypes.unhandledRejections)){var a=function(c){var d=c.reason,p=!1;try{c.detail&&c.detail.reason&&(d=c.detail.reason,p=!0)}catch{}var y=o.Event.create(d,!1,{severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,o._logger);p&&T(y.errors[0].stacktrace,Un(d)),o._notify(y,function(m){if(Ie(m.originalError)&&!m.originalError.stack){var R;m.addMetadata("unhandledRejection handler",(R={},R[Object.prototype.toString.call(m.originalError)]={name:m.originalError.name,message:m.originalError.message,code:m.originalError.code},R))}})};"addEventListener"in e?e.addEventListener("unhandledrejection",a):e.onunhandledrejection=function(c,d){a({detail:{reason:c,promise:d}})}}}};return r},Un=function(e){return function(r){r.file!==e.toString()&&r.method&&(r.method=r.method.replace(/^\s+/,""))}},ge={},Bn="Bugsnag JavaScript",Hn="7.25.0",jn="https://github.com/bugsnag/bugsnag-js",Vn=w({},g.schema,F),Y={_client:null,createClient:function(e){typeof e=="string"&&(e={apiKey:e}),e||(e={});var r=[mn,An(),vn(),Pn(),xn,Ln,Tn,Ze,Fn(),$n(),Qt(),In(),Dn(),jt,Cn()],o=new Qe(e,Vn,r,{name:Bn,version:Hn,url:jn});return o._setDelivery(window.XDomainRequest?We:hn),o._logger.debug("Loaded!"),o.leaveBreadcrumb("Bugsnag loaded",{},"state"),o._config.autoTrackSessions?o.startSession():o},start:function(e){return Y._client?(Y._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."),Y._client):(Y._client=Y.createClient(e),Y._client)},isStarted:function(){return Y._client!=null}};return T(["resetEventCount"].concat(E(Qe.prototype)),function(e){/^_/.test(e)||(Y[e]=function(){if(!Y._client)return console.log("Bugsnag."+e+"() was called before Bugsnag.start()");Y._client._depth+=1;var r=Y._client[e].apply(Y._client,arguments);return Y._client._depth-=1,r})}),ge=Y,ge.Client=Qe,ge.Event=je,ge.Session=ze,ge.Breadcrumb=j,ge.default=Y,ge})}(nt)),nt.exports}var at,or;function Ri(){return or||(or=1,at=Li()),at}var Ti=Ri();const Oi=ma(Ti),Ci=/:\/\/(?![^/]*shopify)/,Ii=["contains bl.cklisted shop_id","Blocked by AdGuard","Backpressure applied","Internet Security by Zscaler","blocked by AdBlocker Ultimate"];function Ni(){return Ii.map(i=>new RegExp(`Error producing to the Monorail Edge.+${i}`))}const ki=[/Invalid blocker state transition:/,/Unable to preload CSS for/,/Importing a module script failed/,/Failed to fetch dynamically imported module:/,/error loading dynamically imported module:/],Mi=[/Node and callback/,/A valid node is required to create a modal/,/Couldn't find a UiModal container on the current page/,/Query failed: undefined/,/error loading script/,/script error/,/unknown error/,/npobject/,/hui_container/,/netdefender/,/datafastguru/,/tlscdn/,/injectedscript/,/KW__/,/property 'tgt'/,/chrome-extension/,/avast_submit/,/Unhandled promise rejection/,/Admin-Next 500 error/,/^Uncaught undefined/,/Rejection reason was not an Error/,/ResizeObserver loop limit exceeded/,/ResizeObserver loop completed with undelivered notifications/,/Minified React error #(418|423|425)/],ct=[...Ni(),/Throttled$/,/"code":\s*"THROTTLED"/,/A network failure may have prevented the request from completing\. Error: TypeError:/,/Network error: cancel/,/connection appears to be offline/,/connection was lost/,/The user aborted a request/,/NetworkError when attempting to fetch resource/,/failed to authenticate/,/Timeout exceeded/,/error loading GraphQL document/,/Failed to fetch/,/Load failed/,/^cancelled$/,/Deferred data aborted/,/Skipping view transition because skipTransition\(\) was called/,/Old view transition aborted by new view transition/,/View transition was skipped because document visibility state is hidden/,/Exporter has been shutdown/,/SendBeacon failed/,/Concurrent export limit reached/,/Failed to query Analytics token for Shopify Employee/],Di=[/^Throttled$/,/failed to authenticate/,/contains bl.cklisted shop_id value/,/Internal error/,/Cusco/,/^cancelled$/,/Load failed/,/Timeout exceeded/,/Network error:.+JSON/,/Received status code (401|403|423|500|502|503|520)/,/GraphQL fetch failed with status: (401|403|404|406|408|423|500|502|503|504|520|522)/,/\[IMPERSONATION\]/,/\[TFA\].+This store requires two-factor authentication/,/GraphQL fetch failed with status: 400, response: {"error":"Unable to retrieve token"}/,/Cannot parse response/,/The request timed out/,/Failed to fetch/,/error loading GraphQL document/,/NetworkError/,/Invariant Violation: 17/],xi=/Required active shop/,qi={base:ct,browser:[...ct,...Mi,...ki]},Fi=[/^OTLPExporterError$/,/^QuickSearch:RemoteSearchError$/,/^QuickSearch:SearchFailed$/,/^QuickSearch:RemoteSearchFailed$/,/^UnknownTimezone$/,/^QuickSearch:LoadMoreForCategoryFailed$/,/^AdminNextAssetPrefetch$/,/^ScriptDownloadError$/,/^MonorailInterceptedProduceError/];function $i(i,t={}){const{pathName:n,errorGroup:s,errorClass:u,stacktrace:l}=t;if(xi.test(i))return n===void 0||!n.match(/\/store\/\w+\/access_account/)&&!n.match(/\/admin\/access_account/);const f=s?qi[s]:ct;return Fi.some(h=>h.test(u||""))||f.some(h=>h.test(i))||Bi(i,u)||(l?Ci.test(l):!1)}const Ui=["ApolloError","HttpError","ParseError","FormatError","ExecutionError"];function Bi(i,t){return!t||!Ui.includes(t)?!1:Di.some(n=>n.test(i))}function Se(i,t){i.addMetadata("bugsnag",{shouldSend:t})}function Hi(i){return function(n){Se(n,!0),va(n);const s=n.request.url||"";if(!URL.canParse(s)){Se(n,!1);return}const u=URL.parse(s);if(!u||ji(u)||Vi(u)){Se(n,!1);return}if(Gi(n)){Se(n,!1);return}if(n.errors.some(f=>{const h=f.stacktrace.map(v=>`${v.file} ${v.method}`).join(" ");return n.context==="/admin/files"&&f.errorMessage.includes("SecurityError")||$i(f.errorMessage,{pathName:window.location.pathname,errorGroup:"browser",errorClass:f.errorClass,stacktrace:h})||_a(n.originalError)||f.errorMessage===void 0||f.errorMessage==="undefined"||f.errorClass==="Unauthorized"})){Se(n,!1);return}i(n)===!1&&Se(n,!1)}}function ji(i){return i.protocol==="file:"||i.protocol==="blob:"||i.protocol==="content:"}function Vi(i){return!((i==null?void 0:i.hostname)==="admin.shopify.com"||i!=null&&i.hostname.match(/\.myshopify\.com$/))}function Gi(i){var t;return((t=i.getMetadata("unhandledrejection handler"))==null?void 0:t["non-error parameter"])==="undefined"}const zi=/^\/signup\/([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})(\/(.*))?$/,Ki=["[gtm: error] gtm iframe failed to load","[gtm: error] gtm failed to acknowledge message","Data Collector must be created with Kount and/or PayPal."];function Qi(i){var f;if(!((f=i.request.path)==null?void 0:f.startsWith("/signup")))return;const n=Wi(),s=i.errors[0],{errorMessage:u=""}=s;Ki.forEach(h=>{u===h&&(i.groupingHash=h)}),i.addMetadata("signup",{signupUuid:n.signupUuid,country:n.country,experimentAssignments:n.experimentAssignments,locale:n.locale,page:ya(location.pathname),phase:n.phase,sequenceSteps:n.sequenceSteps,signupTypes:n.signupTypes});const[,l]=i.request.path.match(zi)||[];i.request.path=i.request.path.replace(l,":signup_uuid")}function Wi(){const i=document.querySelector('[data-serialized-id="signup-context"]'),t=i==null?void 0:i.textContent;try{return t?JSON.parse(t):{}}catch{return{}}}function Xi(i){var t;return!!(i&&((t=i.extraInfo)!=null&&t.operation))}function Ji(i){var t,n,s;for(const u of i.errors){const l=i.originalError;if(!gt(l)||l.cause)return;if(((t=l.graphQLErrors)==null?void 0:t.length)>0){for(const f of l.graphQLErrors)if(f.cause){l.cause=f.cause;break}}if(Xi(l))u.errorClass=`QueryError:${l.extraInfo.operation}`;else if(vr((n=l.graphQLErrors[0])==null?void 0:n.originalError)){const f=URL.parse((s=l.graphQLErrors[0])==null?void 0:s.originalError.response.url);f&&(u.errorClass=`QueryError:${f.searchParams.get("operation")}`)}}}const Yi=["The play() request was interrupted because the media was removed from the document. https://goo.gl/LdLk22","Error: Syntax not recognized - Unsupported visualization type Source: ANTLR Transformer Range: 19:24 - 19:34"];function Zi(i){const t=i.errors[0],{errorMessage:n=""}=t;Yi.forEach(s=>{n===s&&(i.groupingHash=s)})}const ur="UNKNOWN_ERROR",cr="UNKNOWN_PATH";function es(i){const t=i.networkError;if(vr(t))return`[HTTP/${t.statusCode}]`;const n=new Set(i.graphQLErrors.map(({extensions:f})=>(f==null?void 0:f.code)??ur)),s=new Set(i.graphQLErrors.map(({path:f})=>(f==null?void 0:f.at(-1))||cr)),u=n.size?[...n]:[ur],l=s.size?[...s]:[cr];return u.length===1?`[${u[0]}@${l.join(",")}]`:`[MIXED_ERRORS@${l.length===1?l[0]:"MIXED_PATHS"}]`}function ts(i,t){return gt(t)?`${i.errorClass}${es(t)}`:i.errorClass}const rs="https://cdn.shopify.com/s/assets",ns="webpack:///client/bugsnag",as="https://error-analytics-production.shopifysvc.com",is="https://error-analytics-sessions-production.shopifysvc.com",Ee=pt(),ss=i=>async t=>{const n=t.getMetadata("custom")??{},{sliceName:s,routeId:u,targetNormalizedPathname:l,errorBoundary:f}=n,h=t.getMetadata("bugsnag")??{},{shouldSend:v}=h,E={sliceName:s,routeId:u,targetNormalizedPathname:l,errorBoundary:f,notifiedBugsnag:v},L=t.originalError instanceof Error?t.originalError:void 0;i.log("error","Notified BugSnag",{...E,errorMessage:(L==null?void 0:L.message)??t.errors[0].errorMessage,errorName:(L==null?void 0:L.name)??t.errors[0].errorClass,errorStack:(L==null?void 0:L.stack)??""}),i.record(oe.AppError,1,E);for(const b of t.errors){const S=_s(b.stacktrace,t.request.url);S>0&&i.log("info","BugSnag Suspicious Error",{errorMessage:b.errorMessage,errorStack:(L==null?void 0:L.stack)||"",totalFrameCount:b.stacktrace.length,suspiciousFrameCount:S})}},{supported:os}=(Ee==null?void 0:Ee.browser)??{},{apiKey:br,appVersion:us,releaseStage:it}=(Ee==null?void 0:Ee.bugsnag)??{},cs=os?Hi(ms):()=>!1,lt=i=>{const t=i.getMetadata("bugsnag")??{},{shouldSend:n}=t;if(!n)return!1},wr={apiKey:br,autoTrackSessions:!0,trackInlineScripts:!1,releaseStage:it,appVersion:us,enabledErrorTypes:{unhandledExceptions:!0,unhandledRejections:!0},enabledBreadcrumbTypes:["error","manual","navigation","user"],enabledReleaseStages:/^(production|canary|performance|staging-([a-z0-9]{4}))$/.test(it)?[it]:[],maxBreadcrumbs:40,onError:cs,endpoints:{notify:as,sessions:is}};wr.logger=null;const M=br?Oi.createClient(wr):null;M==null||M.addOnError(lt);if(navigator.connection){const{downlink:i,effectiveType:t,rtt:n,type:s,saveData:u}=navigator.connection;M==null||M.addMetadata("connection",{downlink:i,effectiveType:t,rtt:n,type:s,saveData:u})}const{sessionId:ls,requestDetails:ds,enabledBetas:fs,isShopifyStaff:ps}=pt()??{};Ar({...ds,enabledBetas:fs,sessionId:ls,isShopifyStaff:ps});const hs=H(({ensure:i,registerCleanup:t})=>{const n={leaveBreadcrumb(s,u,l){M==null||M.leaveBreadcrumb(s,u,l)},notify(s,u){const l=u||{},f=l.metaData||{};if(gs(s)){const{graphQLErrors:v=[]}=s;f.graphQL=v.reduce((E,L,b)=>(E[b+1]=JSON.stringify(L),E),{})}const h=M==null?void 0:M.Event.create(s,!0,{severity:l.severity||"warning",unhandled:!1,severityReason:{type:"handledException"}},"notify()",2);h&&(f&&Object.keys(f).length!==0&&Object.keys(f).forEach(v=>{v==="react"?h.addMetadata("react",f[v]):h.addMetadata("custom",{[v]:f[v]})}),M==null||M._notify(h))},addOnError(s){return M==null||M.addOnError(s),()=>{M==null||M.removeOnError(s)}},setFlags(s){Pr(s)},updateMetadata(s){Ar(s)},clearMetadata(){M==null||M.clearMetadata("user")}};return i(["flags"]).then(({flags:s})=>{t(Sa(()=>n.setFlags(s.enabled)))}).catch(s=>{throw s}),i(["requestDetails"]).then(({requestDetails:s})=>{n.updateMetadata(s)}).catch(s=>{throw s}),i(["instrumentation"]).then(({instrumentation:s})=>{const u=n.addOnError(l=>{const f=l.getMetadata("bugsnag")??{};(l.getMetadata("custom")??{}).errorBoundary==="router"&&s.setPageViewErrorReported(f.shouldSend)});t(u)}).catch(s=>{throw s}),i(["router","metrics"]).then(({router:s,metrics:u})=>{M==null||M.removeOnError(lt);const l=n.addOnError(v=>{const E=vs(s,v.originalError);v.addMetadata("custom",E)});t(l);const f=n.addOnError(ss(u));t(f);const h=n.addOnError(lt);t(h)}).catch(s=>{throw s}),n});function Ar(i){const{shop:t,staffMember:n,isShopifyStaff:s,sessionId:u,enabledBetas:l=[]}=i,f=_r()?gr():void 0,h={shopId:t==null?void 0:t.shopId,shopDomain:t==null?void 0:t.shopDomain,userId:n==null?void 0:n.userId,userUuid:f,isShopifyEmployee:s??(t==null?void 0:t.isShopifyEmployee),sessionId:u};M==null||M.addMetadata("user",h),M==null||M.setUser(f),Pr(l)}function gs(i){return!!i&&Array.isArray(i.graphQLErrors)}function Pr(i){M==null||M.clearFeatureFlags(),M==null||M.addFeatureFlags(i.map(t=>({name:t})))}function ms(i){i.addMetadata("errors",{errors:i.errors.map(E=>({type:E.type,class:E.errorClass,message:E.errorMessage,stacktrace:E.stacktrace}))});const t=document.location.pathname.replace(/(^\/|\/$)/g,""),n=()=>t.startsWith("signup")?0:_r()?2:1,s=t.split("/").slice(n()),[u="home",l]=s,f=u==="settings"&&l?l:u;let h;const v=i.errors.every(E=>E.stacktrace.every(({file:L})=>L.startsWith(rs)||L.startsWith(ns)||L.startsWith("global code")||L.startsWith("undefined")||L.startsWith("[native code]")));s.length<=1?h="index":l?l==="new"?h="new":/^\d+$/.test(l)?h="show":h="unknown":h="unknown",Ji(i),Zi(i),Qi(i),i.errors.forEach(E=>{E.errorClass=ts(E,i.originalError)}),i.addMetadata("app",{adminAction:h,adminSection:f,adminNext:v})}function vs(i,t){const n=i.getRouteInfo();let s,u=t;for(;!s&&u;)s=Ea(u),u=u.cause;const l=s?i.getRouteInfo(s):void 0,f=(l==null?void 0:l.sliceName)??(n==null?void 0:n.sliceName)??"unknown",h=s??(n==null?void 0:n.manifestRouteId)??"unknown",v=(l==null?void 0:l.pathPattern)??(n==null?void 0:n.pathPattern)??"unknown";return{sliceName:f,routeId:h,targetNormalizedPathname:v,callerSliceName:l?n==null?void 0:n.sliceName:void 0,callerRouteId:l?n==null?void 0:n.manifestRouteId:void 0,slice_name:f,slice_id:"unknown"}}function _s(i,t){let n=0;for(const s of i)(s.file===""||s.file===t||s.file==="global code")&&n++;return n}function ys(i,t){return t?i.filter((s,u)=>u<t.length&&t[u]):[]}async function Lr(i){var n;const{data:t}=await i.query(ba,{variables:{betaNames:tr}});return ys(tr,(n=t==null?void 0:t.shop)==null?void 0:n.enabledFlags)}const Le="admin_react_beta_flag_diagnostics";async function Ss({isStoreList:i,enabledBetas:t,graphqlLite:n,isDevelopment:s}){return i?[]:t??await Lr(n)}const Es=H(async({url:i,ensure:t,graphqlLite:n,ensureSync:s,serverData:u,unified:l})=>{const f=!l.storeHandle&&!u.enabledBetas,h=U([]),v=U(await Ss({isDevelopment:Fe,isStoreList:f,enabledBetas:u.enabledBetas,graphqlLite:n})),E=ie(()=>Array.from(h.value.reduce((g,_)=>(g.has(_)?g.delete(_):g.add(_),g),new Set(v.value)))),L=ie(()=>new Set(E.value)),b=new qe;if(!f){const{requestDetails:g}=await t(["requestDetails"]),{isShopifyEmployee:_,isStaffShop:w}=g.shop;try{(_||w||mt(i.hostname)||Fe)&&b.get(Le)&&(h.value=Array.from(new Set([...String(b.get(Le)).split(",").map(T=>rr(T)).filter(T=>T!==void 0)])))}catch{}}function S(g,_){const{router:w}=s(["router"]);if(w.revalidate(),g.filter(N=>!_.includes(N)).concat(_.filter(N=>!g.includes(N))).some(N=>wa(N))){const{assets:N}=s(["assets"]);N.forceReloadAssets()}}return{async refetch(){const g=v.value;v.value=await Lr(n),S(v.value,g)},get overrides(){return h.value},get enabled(){return E.value},get(g){return L.value.has(g)},update(g){const _=v.value;v.value=g,S(g,_)},updateOverrides(g){const _=h.value,w=g.map(T=>rr(T)).filter(T=>T!==void 0);h.value=w,g.length>0?b.set(Le,g.join(","),{path:"/"}):b.remove(Le,{path:"/"}),S(g,_)},clearOverrides(){const g=h.value;h.value=[],b.remove(Le,{path:"/"}),S([],g)}}}),Re="admin_react_permission_diagnostics",bs=H(async({url:i,ensure:t,ensureSync:n})=>{const{requestDetails:s}=await t(["requestDetails"]),u=U([]),l=U(s.permissions),f=ie(()=>{const b=Array.from(u.value.reduce((S,g)=>(S.has(g)?S.delete(g):S.add(g),S),new Set(l.value)));return new Aa(b)}),{isShopifyEmployee:h,isStaffShop:v}=s.shop,E=new qe;try{if((h||v||mt(i.hostname)||Fe)&&E.get(Re)){const b=String(E.get(Re)).split(",");u.value=b.filter(S=>f.value.include(S))}}catch{}function L(b,S){const{router:g}=n(["router"]);if(g.revalidate(),b.filter(w=>!S.includes(w)).concat(S.filter(w=>!b.includes(w))).some(w=>Pa(w))){const{assets:w}=n(["assets"]);w.forceReloadAssets()}}return{get overrides(){return u.value},get enabled(){return f.value},include(b){return f.value.include(b)},missing(b){return f.value.missing(b)},update(b){const S=l.value;l.value=b,L(b,S)},updateOverrides(b){const S=u.value;u.value=b,b.length>0?E.set(Re,b.join(","),{path:"/"}):E.remove(Re,{path:"/"}),L(b,S)},clearOverrides(){const b=u.value;u.value=[],E.remove(Re,{path:"/"}),L([],b)}}}),{createHttpProducer:ws,createLogProducer:As}=La,Rr=ws,Ps=As,lr="admin-web",Tr={detectInterceptedErrorEnabled:!0};function Ls({debugMode:i=!1,production:t}={}){return t?Rr({production:t,options:Tr}):Ps({debugMode:i})}class Ue extends Error{constructor(...n){var s;super(...n);$(this,"name","MonorailProduceError");(s=Error.captureStackTrace)==null||s.call(Error,this,Ue)}excludeProduceFromStackTrace(n){var s;(s=Error.captureStackTrace)==null||s.call(Error,this,n)}}function dr(i,t,n,s){const u=Ls(i),l=Rr({production:!0,options:Tr}),f=({schemaId:v,payload:E,noop:L})=>{if(L)return Promise.resolve({});const b={schemaId:v,metadata:{client:lr},payload:{...t||{},...(n==null?void 0:n())||{},...E}};let S=u;fr.includes(v)&&!(i!=null&&i.production)&&!(i!=null&&i.debugMode)&&(S=l);const g=new Ue;return g.excludeProduceFromStackTrace(f),S.produce(b).then(()=>{s==null||s("Monorail produce",{schemaId:v},"request")}).catch(_=>{throw s==null||s("Monorail produce",{error:!0,schemaId:v},"error"),_.cause=g,_.name=`${_.name}[${v}]`,_})},h=({events:v})=>{const E=v.map(S=>({...S,metadata:{client:lr},payload:{...t||{},...(n==null?void 0:n())||{},...S.payload||{}}})),L=E.filter(({schemaId:S})=>fr.includes(S)&&!(i!=null&&i.production)),b=new Ue;return b.excludeProduceFromStackTrace(h),L.length>0?(i!=null&&i.debugMode&&u.produceBatch({events:E}),l.produceBatch({events:L}).catch(S=>{throw S.cause=b,S.name=`${S.name}[Batch]`,S})):u.produceBatch({events:E}).then(()=>{s==null||s("Monorail produce batch",{schemaIds:v.map(({schemaId:S})=>S)},"request")}).catch(S=>{throw s==null||s("Monorail produce batch",{error:!0,schemaIds:v.map(({schemaId:g})=>g)},"error"),S.cause=b,S.name=`${S.name}[Batch]`,S})};return{produce:f,produceBatch:h}}const fr=["dev_ui_tab_click/1.1","dev_ui_button_click/1.1","dev_ui_open/1.1","dev_ui_totally_click/1.0","dev_ui_drag/1.0"],Rs=()=>(Ta(Oa),Ca);function Ts({locale:i,requestDetails:t,router:n,errorLogger:s}){var b;const{shopId:u,isShopifyEmployee:l,shopifyEmployeeId:f}=t.shop??{},h={debugMode:Rs(),production:Ia};if(!u)return dr(h,L(),L,s.leaveBreadcrumb);const v=parseInt(((b=t.staffMember)==null?void 0:b.userId)||"",10)||void 0,E={locale:i,shopId:parseInt(u,10),shopifyEmployee:l,shopifyEmployeeId:f,shopUserId:v,tabId:Ra(),userId:v,...L()};function L(){return{manifestRouteId:n.getRouteInfo().manifestRouteId??"unknown",pageRequestId:n.navigationId,pageViewToken:n.pageViewToken}}return dr(h,E,L,s.leaveBreadcrumb)}const Os=H(async({ensure:i})=>Ts(await i(["locale","requestDetails","router","errorLogger"]))),st="admin_react_search_eval_diagnostics",Cs=H(({url:i,ensure:t})=>{const n=U(!1);return t(["requestDetails"]).then(({requestDetails:s})=>{const u=new qe,{isShopifyEmployee:l}=s.shop;try{(l||mt(i.hostname))&&(n.value=String(u.get(st))==="1")}catch{}}).catch(s=>{}),{get searchRatingEnabled(){return n.value},toggleSearchRatingEnabled(){n.value=!n.value;const s=new qe;n.value?s.set(st,"1",{path:"/"}):s.remove(st,{path:"/"})}}}),Is={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"OrganizationContext"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"featureSet"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organizationPermissions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userLimits"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enforced"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxAllowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"used"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:162,source:{name:"GraphQL request",locationOffset:{line:1,column:1}}},id:"cff965b9063e6afb73c9ec882612e464e5f640b948363c521c789adc011308cb"},Or={enforced:!1,maxAllowed:0,used:0},Ns=H(async({ensure:i,errorLogger:t})=>{var u;const{shopFeatures:n,organizationGraphql:s}=await i(["shopFeatures","organizationGraphql"]);if(!n.hasOrgSettings&&!n.rbacEnabled)return null;try{const{data:l,error:f}=await s.query({query:Is,fetchPolicy:"network-only"});f&&t.notify(f);const h=l.organization,v=(u=h==null?void 0:h.currentUser)==null?void 0:u.organizationPermissions,E=(h==null?void 0:h.featureSet)||[],L=[],b=ks(h);if(v){const S=Object.values(Na);for(const g of v){const _=g.toUpperCase();S.includes(_)&&L.push(_)}}return{features:E,permissions:L,userLimits:b}}catch(l){if(gt(l)&&Ms(l)){const{metrics:f}=await i(["metrics"]);return f.log("error","OrganizationContextAccessDeniedError",{message:l.message}),null}throw l}});function ks(i){return i!=null&&i.userLimits?{enforced:!!i.userLimits.enforced,maxAllowed:i.userLimits.maxAllowed,used:i.userLimits.used}:Or}function Ms(i){const{graphQLErrors:t}=i;return t?t.some(n=>{var s;if(((s=n.extensions)==null?void 0:s.code)==="ACCESS_DENIED")return!0}):!1}const Ds=H(()=>{const i=U(!1);function t(n){queueMicrotask(()=>{i.value=n})}return{get supportsContextualCommerce(){return i.value},setSupportsContextualCommerce:t}}),xs=1e3*60*60*24,qs=1e3*60,Fs=H(({registerCleanup:i})=>{const t=U(!1),n=()=>{t.value=!0},s=Date.now(),u=setInterval(()=>{Date.now()-s>xs&&(n(),clearInterval(u))},qs);return i(()=>{clearInterval(u)}),{get shouldReloadAssets(){return t.value},forceReloadAssets:n}}),$s=H(()=>{var s,u;const i=U(null),t=typeof window<"u"&&((u=(s=window.navigator)==null?void 0:s.userAgent)==null?void 0:u.includes("MobileBridge"));if(t){const l=Us(),f={register:h=>{yr(h),i.value=Te(h),document.documentElement.setAttribute("mobile-bridge","true"),document.documentElement.setAttribute("mobile-bridge-platform",window.navigator.userAgent.toLowerCase().includes("android")?"android":"ios")}};l.expose(f),l.call.ready()}return{api:i,isSupported:t,supportsVersion:l=>{var f;return(((f=i.value)==null?void 0:f.version)??0)>=l}}});function Us(){const i=new WeakMap,t=window;return ka({postMessage(n){var s,u;(u=(s=t.ReactNativeWebView)==null?void 0:s.postMessage)==null||u.call(s,JSON.stringify({id:"MobileBridge",data:n}))},addEventListener(n,s){const u=async l=>{if(typeof l.data=="string")try{const{id:f,data:h}=JSON.parse(l.data);if(f!=="MobileBridge")return;await s({...l,data:h})}catch{}};i.set(s,u),window.addEventListener(n,u)},removeEventListener(n,s){const u=i.get(s);u!=null&&(i.delete(s),window==null||window.removeEventListener(n,u))}})}function Te(i){return!i||typeof i!="object"?i:typeof i=="function"?(yr(i),async(...n)=>{const s=await i(...Te(n));return Te(s)}):Array.isArray(i)?i.map(Te):Object.keys(i).reduce((t,n)=>({...t,[n]:Te(i[n])}),{})}const Bs=H(i=>{const t=U({});return{get forms(){return t.value},registerForm(n){const s=i.router.getRouteId();s&&(t.value={[s]:{...t.value[s],[n.name]:n}})},unregisterForm(n){const s=i.router.getRouteId();if(!s)return;const u=t.value[s];!u||!(n in u)||(delete u[n],t.value={...t.value,[s]:u})},get activeForms(){const n=i.router.getRouteId();return n?Object.values(t.value[n]??{}):[]}}}),Hs=H(async({ensure:i})=>{const{requestDetails:t}=await i(["requestDetails"]),n=U(t.entitlements),s=U([]),u=ie(()=>{const f=Ma(n.value);return s.value.forEach(({path:h,value:v})=>Da(f,h,v)),f});return js({entitlements:u,overrideHandlers:{get overrides(){return s.value},clearOverrides(){s.value=[]},updateOverride(f){const h=[...s.value],v=h.findIndex(({path:L})=>L===f.path),E=Sr(n.value,f.path);v===-1&&f.value!==E?h.push(f):E===f.value&&v!==-1?h.splice(v,1):h[v]=f,s.value=h}}})});function js({entitlements:i,overrideHandlers:t}){return new Proxy({},{get(n,s){return s in t?t[s]:Sr(i.value,s)},ownKeys(){return[...Object.keys(i.value),...Object.keys(t)]},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},has(n,s){return s in t||s in i.value}})}const Vs=H(()=>{const i=U(void 0),t=U(void 0),n=U(()=>{});function s(){i.value=void 0,t.value=void 0,n.value=()=>{}}return{get challengeUrl(){return i.value},get challengeTitleKey(){return t.value},startChallenge(u,l){return i.value=u,t.value=l,new Promise(f=>n.value=f)},endChallenge(u,l){if(n.value(u),u&&l){const f=xa(i.value);f&&window.location.assign(f)}s()}}}),Gs=H(({serverData:i,ensure:t})=>{const s=i.isUnifiedApp?"/logout":"/admin/auth/logout";return{async perform(){const{requestDetails:u,flags:l,errorLogger:f}=await t(["requestDetails","flags","errorLogger"]);if(u.shop.isStaffShop||l.get(hr)){const{deleteAllCaches:h}=await ne(async()=>{const{deleteAllCaches:v}=await import("../context-slice-graphql-C1L-GtdrTaCP.js").then(E=>E.a2);return{deleteAllCaches:v}},__vite__mapDeps([3,2]));try{await h({lockAfterDelete:!0})}catch(v){f.notify(v)}}location.assign(s)}}}),zs=H(async i=>{const{flags:t}=await i.ensure(["flags"]),n=ie(()=>t.enabled.includes(qa)),s=U(void 0),u=i.ensure(["extensibility"]).then(({extensibility:E})=>(s.value=E.host,E.host)),l=ie(()=>n.value&&s.value&&s.value.pluginApi.intents?s.value.pluginApi.intents.activities.value:[]),f=ie(()=>l.value.at(-1)),h=ie(()=>!!f.value);return{get enabled(){return n.value},activities:l,currentActivity:f,inActivity:h,invoke:async(...E)=>{var b;const L=await u;return await L.ready,(b=L.pluginApi.intents)==null?void 0:b.invoke(...E)}}});var ue,ce,le,se,dt,Cr,ft;class Ks{constructor(t){Pe(this,se);Pe(this,ue,new Map);Pe(this,ce,new Map);Pe(this,le,new Map);t&&this.register(t)}register(t){for(const[n,s]of Object.entries(t))K(this,ce).has(n)||K(this,le).has(n)||K(this,ue).has(n)||(typeof s=="function"?K(this,le).set(n,s):K(this,ce).set(n,ye(this,se,dt).call(this,s)));return this}assert(t,n){if(typeof t=="string"){if(K(this,ce).has(t))return ye(this,se,Cr).call(this,K(this,ce).get(t).assert.call(this,n));throw K(this,le).has(t)||K(this,ue).has(t)?new Error(`Mime type ${t} registered but not yet loaded. Make sure to call ensure() before asserting.`):new Error(`Mime type ${t} not registered.`)}if(typeof n=="object"&&n!=null&&!Array.isArray(n)){const s=[];for(const u in t){const l=t[u];let f;typeof l=="string"?f=this.assert(l,n[u]):(l.required!==!1||n[u]!=null)&&(f=this.assert(l.type??"",n[u])),f!=null&&!f.success&&s.push(...ye(this,se,ft).call(this,f.errors).map(h=>(h.path.unshift(u),h)))}return s.length===0?{data:n,success:!0}:{errors:s,success:!1}}throw new Error("Invalid value")}async ensure(t){if(typeof t=="string"){if(K(this,ce).has(t))return this;if(K(this,le).has(t)){const n=K(this,le).get(t);K(this,le).delete(t),K(this,ue).set(t,n().then(({default:s})=>(K(this,ce).set(t,ye(this,se,dt).call(this,s)),K(this,ue).delete(t),this)))}return K(this,ue).has(t)?K(this,ue).get(t):this}return await Promise.all(Object.values(t).map(n=>typeof n=="string"?this.ensure(n):this.ensure(n.type??""))),this}async ensureAndAssert(t,n){return await this.ensure(t),this.assert(t,n)}}ue=new WeakMap,ce=new WeakMap,le=new WeakMap,se=new WeakSet,dt=function(t){return t instanceof $e.ZodSchema?{assert:n=>t.safeParse(n)}:t},Cr=function(t){return t.success?t:{success:!1,errors:ye(this,se,ft).call(this,"error"in t?t.error:t.errors)}},ft=function(t){return t instanceof $e.ZodError?t.issues:Array.isArray(t)?t:[t]};const Qs=$e.z.number().int();function pe(i){return{assert:t=>{const n=typeof t=="string"&&Fa(t)&&$a(t).toLowerCase()===i.toLowerCase();return n?{success:n,data:t}:{success:n,errors:[{path:[],code:"custom",message:`Expected a GID for ${i}. Got ${t}`}]}}}}const Ws=pe("Collection"),Xs=pe("Customer"),Js=pe("Experiment"),Ys=pe("Metafield"),Zs=pe("Metaobject"),eo=pe("MetaobjectDefinition"),to=pe("Product"),ro=pe("ProductVariant"),no=$e.z.string(),ao=H(()=>new Ks({"number/integer":Qs,"shopify/Collection+url":Ws,"shopify/Customer+url":Xs,"shopify/Experiment+url":Js,"shopify/Metafield+url":Ys,"shopify/Metaobject+url":Zs,"shopify/MetaobjectDefinition+url":eo,"shopify/Product+url":to,"shopify/ProductVariant+url":ro,"text/plain":no})),io=H(()=>{const i=U(void 0),t=U(void 0);return{get multiTrackToken(){return i.value},get sessionToken(){return t.value},updateState(n){i.value=n.multiTrackToken,t.value=n.sessionToken}}}),so="en";async function oo({createRouterPromise:i}){var b,S;const t=Ua(),{hostname:n=location.hostname,webHost:s,coreCdnHost:u,coreHost:l,adminDomain:f,devDashHost:h,sidekickHost:v}=t.urlDetails??{},E=Ba(Ha(location.pathname)),L=ja({mimeTypes:ao,mobileBridge:$s,async extensibility(g){return ne(()=>import("../context-slice-extensibility-BMlmOiFh-izB.js"),__vite__mapDeps([4,2])).then(_=>_.default(g))},intents:zs,url:new Qa(n,s,u,l,f,h,v),browser:new Va({userAgent:((b=t==null?void 0:t.browser)==null?void 0:b.userAgent)??navigator.userAgent,supported:((S=t==null?void 0:t.browser)==null?void 0:S.supported)??!0}),locale:t.locale,async i18n({locale:g,ensure:_}){const{requestDetails:w,errorLogger:T}=await _(["requestDetails","errorLogger"]),{currencyCode:N,shopCountryCode:q,ianaTimezone:F}=w.shop;return new Ya({fallbackLocale:so,locale:g,currency:N,country:q,timezone:F,onError:T.notify})},async router(g){const{default:_}=await ne(async()=>{const{default:w}=await import("../router-Dn5OPhTbCteb.js").then(T=>T.eD);return{default:w}},__vite__mapDeps([1,2]));return _(g,i)},serverData:t,errorLogger:hs,urlDetails:t.urlDetails,performance:ai,instrumentation:li,flash:di,loading:Ei,globallyDismissedHomeItems:bi,statusPanel:wi,unified(){return{storeHandle:Ja(location.pathname)}},graphqlLite:Si,async graphql(g){return await g.ensure(["router","metrics"]),(await ne(async()=>{const{default:_}=await import("../context-slice-graphql-C1L-GtdrTaCP.js").then(w=>w.a3);return{default:_}},__vite__mapDeps([3,2]))).default(g,{initialApolloData:t.initialApolloData})},async atlas(g){return g.ensure(["graphql"]),(await ne(async()=>{const{default:_}=await import("../context-slice-atlas-Bf9G7RJ-iCH_.js");return{default:_}},__vite__mapDeps([5,2]))).default(g)},contractManagementGraphql({requestDetails:{shop:g},graphql:_}){const w=rt((g==null?void 0:g.shopDomain)||"");return _.subclient({name:"contractManagement",apiEndpointPath:`/api/contractmanagement/${w}/${g==null?void 0:g.shopId}`})},verificationHubGraphql({requestDetails:{shop:g},graphql:_}){const w=rt((g==null?void 0:g.shopDomain)||"");return _.subclient({name:"verificationHub",apiEndpointPath:`/api/verificationhub/${w}/`})},async organizationGraphql({ensure:g}){const{shop:_,graphql:w}=await g(["shop","graphql"]),T=rt((_==null?void 0:_.shopDomain)||"");return w.subclient({name:"organizations",apiEndpointPath:`/api/organizations/${T}/${_==null?void 0:_.shopId}`})},async signupOrganizationsGraphql({ensure:g}){const{graphql:_}=await g(["graphql"]);return _.subclient({name:"organizations",apiEndpointPath:"/api/destinations"})},async requestedActionsGraphql({ensure:g}){const{graphql:_}=await g(["graphql"]);return _.subclient({name:"requestedActions",apiEndpointPath:"/api/requested_actions"})},bankingGraphql({serverData:g,unified:_,graphql:w}){const T="/admin/banking/graphql",N="/admin/internal/web/graphql/banking",q=g.isUnifiedApp;let F=N;return w.options.server?F=T:q&&(F=`/api/banking/${_.storeHandle}`),w.subclient({apiEndpointPath:F,name:"banking",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(I){var Q,V,ee,z;if(!I)return!1;const B=(I==null?void 0:I.statusCode)||((Q=I==null?void 0:I.response)==null?void 0:Q.status),j=((V=I==null?void 0:I.result)==null?void 0:V.error)||((z=(ee=I==null?void 0:I.result)==null?void 0:ee.errors)==null?void 0:z.toString())||"";return B===404||B===403&&j!=="CSRF"}})},async experimentalBillingGraphql({ensure:g,unified:_}){const{shop:w,graphql:T}=await g(["shop","graphql"]);return T.subclient({name:"billing",apiEndpointPath:`/api/billing/shop/${w==null?void 0:w.shopId}/graphql?shop=${_.storeHandle}`})},async appStoreGraphql({ensure:g}){const{graphql:_}=await g(["graphql"]);return _.subclient({name:"appStore",apiEndpointPath:"/api/appStore/graphql"})},async merchantBankAccountGraphql({serverData:g,ensure:_}){const{shop:w,graphql:T}=await _(["shop","graphql"]),N=w==null?void 0:w.shopId,F=new URLSearchParams(location.search).get("businessEntityId"),I="/admin/merchant_bank_account/graphql",B="/admin/internal/web/graphql/merchant_bank_account",j=g.isUnifiedApp;let Q=B;return T.options.server?Q=I:j&&(Q=F?`/api/merchant_bank_account/${N}/business_entity/${F}`:`/api/merchant_bank_account/${N}`),T.subclient({apiEndpointPath:Q,name:"merchantBankAccount",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(V){if(!V)return!1;const ee=V.result.error||V.message||V.response.statusText;return V.statusCode===Xa.BadRequest&&ee.includes("IMPERSONATION")?!1:[403,404].includes(V.statusCode)}})},async merchantRiskGraphql({serverData:g,unified:_,ensure:w}){const T="/admin/profile_assessment/graphql",N="/admin/internal/web/graphql/profile_assessment",{graphql:q}=await w(["graphql"]),F=g.isUnifiedApp;let I=N;return q.options.server?I=T:F&&(I=`/api/profile_assessment/${_.storeHandle}`),q.subclient({apiEndpointPath:I,name:"merchantRisk",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(B){return B?[403,404].includes(B.statusCode):!1}})},async bourgeoisGraphql({serverData:g,unified:_,ensure:w}){const T=(await ne(async()=>{const{default:j}=await import("../context-slice-graphql-schemas~bourgeois-schema-types-13uqY6CAt_um.js");return{default:j}},[])).default,N="/admin/capital/graphql",q="/admin/internal/web/graphql/capital",F=g.isUnifiedApp;let I=q;const{graphql:B}=await w(["graphql"]);return B.options.server?I=N:F&&(I=`/api/capital/${_.storeHandle}`),B.subclient({apiEndpointPath:I,name:"bourgeois",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(j){return j?[403,404].includes(j.statusCode):!1}},T)},headlessGraphql({serverData:g,unified:_,graphql:w}){const T="/admin/headless_storefronts/graphql",N="/admin/internal/web/graphql/headless_storefronts",q=g.isUnifiedApp;let F=N;return w.options.server?F=T:q&&(F=`/api/headless_storefronts/${_.storeHandle}`),w.subclient({apiEndpointPath:F,name:"headlessStorefronts",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(I){return I?[403,404].includes(I.statusCode):!1}})},hydrogenGraphql({serverData:g,unified:_,graphql:w}){const T="hydrogen_storefronts",N=`/admin/${T}/graphql`,q=`/admin/internal/web/graphql/${T}`,F=g.isUnifiedApp;let I=q;return w.options.server?I=N:F&&(I=`/api/${T}/${_.storeHandle}`),w.subclient({apiEndpointPath:I,name:"hydrogenStorefronts",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},cacheConfig:{typePolicies:{Query:{fields:{oxygenFeatureSet:{merge:!0}}}}},handleServerError(B){return B?[403,404].includes(B.statusCode):!1}})},signupGraphQL({graphql:g}){return g.subclient({name:"coreSignups",apiEndpointPath:"/api/signups"})},optionalCheckoutGraphQL({graphql:g}){const _=Wa(location.search);return g.subclient({name:"coreSignupQuestionnaire",apiEndpointPath:`/api/shopify/${_}`})},messagingApiGraphql({serverData:g,unified:_,graphql:w}){const T="messagingapi",N=`/admin/${T}/graphql`,q="/admin/internal/web/graphql/messaging_api",F=g.isUnifiedApp;let I=q;return w.options.server?I=N:F&&(I=`/api/${T}/${_.storeHandle}`),w.subclient({apiEndpointPath:I,name:"messagingApi",defaultOptions:{query:{errorPolicy:"all",ssr:!1}},handleServerError(B){return B?[402,403,404].includes(B.statusCode):!1}})},flags:Es,async shop({ensure:g,graphqlLite:_}){const{requestDetails:w}=await g(["requestDetails"]),T=w.shop;return Object.defineProperty(T,"refetch",{value:async()=>{const N=await nr(_,E);Object.assign(T,N.shop);const{router:q}=await g(["router"]);q.revalidate()},enumerable:!1,configurable:!1,writable:!1}),T},async shopFeatures({ensure:g}){const{requestDetails:_}=await g(["requestDetails"]);return _.shopFeatures},entitlements:Hs,async requestDetails({serverData:g,unified:_,graphqlLite:w}){return g.requestDetails?g.requestDetails:_.storeHandle?await nr(w,E):{shop:{}}},permissions:bs,reportify:Ka,async newReportify(g){return(await ne(async()=>{const{default:_}=await import("../context-slice-newReportify-kr6Cm4CEQ7Ex.js");return{default:_}},__vite__mapDeps([6,2]))).default(g)},async metrics(g){return(await ne(async()=>{const{default:_}=await import("../context-slice-metrics-BRnPw6Hr0pm3.js").then(w=>w.m);return{default:_}},__vite__mapDeps([7,2,3]))).default(g)},async manifestFetch(g){return(await ne(async()=>{const{default:_}=await import("../context-slice-manifestFetch-tJcXy7BgsUt2.js");return{default:_}},__vite__mapDeps([8,2]))).default(g)},monorail:Os,slots:za,universalSidebar:Pi,searchEval:Cs,organization:Ns,async organizationFeatures({ensure:g}){const{organization:_}=await g(["organization"]);return(_==null?void 0:_.features)||[]},async organizationPermissions({ensure:g}){const{organization:_}=await g(["organization"]);return(_==null?void 0:_.permissions)||[]},async organizationUserLimits({ensure:g}){const{organization:_}=await g(["organization"]);return(_==null?void 0:_.userLimits)||Or},contextualCommerce:Ds,assets:Fs,forms:Bs,trustChallenge:Vs,duxContext:io,logout:Gs});return await L.ensure(Ga),L}Za.defaults.domain=location.hostname;const xe=ei();let ot;co().then(()=>{xe.status?Ir():uo({createAdminContext:oo})});async function uo({createAdminContext:i}){const t=ne(()=>import("../router-Dn5OPhTbCteb.js").then(f=>f.eE),__vite__mapDeps([1,2])),n=ne(()=>import("../render-common-BVOtDT8cIJE8.js").then(f=>f.lu),__vite__mapDeps([9,2,1,3,7,10]));let s,u;try{u=await i({createRouterPromise:t.then(({createRouter:f})=>f)})}catch(f){s=f}if(s){s&&setTimeout(()=>{throw s}),Ir(s);return}const{createAppRoot:l}=await n;if(!ot)try{ot=l(Nr())}catch(f){throw new Error("Cannot create app root",{cause:f})}ot.render(u,xe==null?void 0:xe.isUnifiedApp)}async function Ir(i){const{createErrorAppRoot:t}=await ne(async()=>{const{createErrorAppRoot:n}=await import("../render-common-BVOtDT8cIJE8.js").then(s=>s.lu);return{createErrorAppRoot:n}},__vite__mapDeps([9,2,1,3,7,10]));t(Nr(),i).render()}function co(){return new Promise(i=>{document.readyState==="complete"?i():document.addEventListener("readystatechange",t);function t(){document.readyState==="complete"&&(document.removeEventListener("readystatechange",t),i())}})}function Nr(){const i=document.getElementById("app");if(!i)throw new Error("App element not found");return i}
//# sourceMappingURL=https://web-sourcemaps.shopify.io/v1/es/main-CvDz_K1z.js.map
